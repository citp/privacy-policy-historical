<!--The following is the downloaded HTML source of the ceo.ca privacy policy that was archived on 2017-02-10.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20170210135331id_/https%3A//ceo.ca/%40tommy/privacy-policy) for the most accurate reproduction.-->

<!DOCTYPE html><html><head>
        <link href="https://fonts.googleapis.com/css?family=PT+Mono" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700" rel="stylesheet" type="text/css">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link href="/public/assets/icon-144x144.png" sizes="144x144" rel="apple-touch-icon">
        <link rel="shortcut icon" href="/public/assets/favicon.png?v=343" type="image/x-icon">

        
            <meta name="description" content="This Privacy Policy was last updated on February 4, 2017.">
        

        
            <title>CEO.CA Privacy Policy, by @tommy</title>
        

        <link rel="stylesheet" href="/public/styles/teaorbit.css?v=343" type="text/css">
        <link rel="stylesheet" href="/public/styles/newsedi.css?v=343" type="text/css">
        <link rel="stylesheet" href="/public/styles/icons.css?v=343" type="text/css">
        <link rel="stylesheet" type="text/css" href="/public/styles/medium-editor/image-insert-plugin.css">

    </head>

    
    

    <body class=" watchlist-open discover-open">
        <div id="container">
            <div id="header">
                <div id="back" class="hidden">
                    <span class="icon icon-chevron-left"></span>back
                </div>
                <div id="logo">
                    <a href="/" class="go-to" data-channel=""><img src="/public//assets/ceo.ca.png"></a>
                    
                </div>

                <div class="top-bar">
                    <label class="search-bar">
                        <form class="search-form">
                            <span class="icon icon-search"></span><input type="text" class="search-query" placeholder="Search">
                            <input type="submit" value="Search" style="display: none;">
                            <div class="suggestions"></div>
                        </form>
                    </label>
                </div>
                <div id="toggle-right-sidebar" class="toggle-sidebar ">
                    <div class="notifications">3</div>
                    <span class="icon icon-th-list"></span>
                </div>
            </div>

            <svg height="0" width="0" xmlns="http://www.w3.org/2000/svg" class="hidden">
                <filter id="drop-shadow">
                    <feGaussianBlur in="SourceAlpha" stdDeviation="1"></feGaussianBlur>
                    <feOffset dx="0" dy="0" result="offsetblur"></feOffset>
                    <feFlood flood-color="rgba(0,0,0,0.3)"></feFlood>
                    <feComposite in2="offsetblur" operator="in"></feComposite>
                    <feMerge>
                        <feMergeNode></feMergeNode>
                        <feMergeNode in="SourceGraphic"></feMergeNode>
                    </feMerge>
                </filter>
            </svg>
            <div id="nav">

                
                
                
                <div class="tab  toggle-left-sidebar">
                    <div class="shadow"></div>
                    <div class="shadowed">
                        <svg viewBox="0 0 5 40">
                            <path d="M0,40 L5,5 L5,40 L0,40"></path>
                        </svg></div><div class="label"><span class="icon icon-newspaper-o"></span> Articles
                    </div><div class="shadowed">
                        <svg viewBox="0 0 5 40">
                            <path d="M0,5 L5,40 L0,40 L0,5"></path>
                        </svg>
                    </div>
                </div><div class="tab current toggle-chat">
                    <div class="shadow"></div>
                    <div class="shadowed">
                        <svg viewBox="0 0 5 40">
                            <path d="M0,40 L5,5 L5,40 L0,40"></path>
                        </svg></div><div class="label">
                        <span class="channel">
                            @tommy/privacy-policy
                        </span> channel
                    </div><div class="shadowed">
                        <svg viewBox="0 0 5 40">
                            <path d="M0,5 L5,40 L0,40 L0,5"></path>
                        </svg>
                    </div>
                </div>

            </div>

            <div class="left-sidebar">
                <div class="scroll">
                    <div id="profile">
                        
                    </div>

                    <div id="chart-box" class="">
                        
                    </div>

                    <div id="discover" class="">
                        
<div class="inner">
    <div class="padding">
    
    

    
        
        <div class="articles">
            <h3>featured articles</h3>

            
            
                
                    
                    <a class="go-to article-link unseen" data-channel="@murat/ceoca-pro-subscriptions-soft-launch" href="/@murat/ceoca-pro-subscriptions-soft-launch" data-type="featured" data-index="0">
                        
                        <div class="article ">
                            <div class="thumb">
                                
                                    <img src="https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9mq96-Screen%2520Shot%25202017-02-08%2520at%252010-120-80-thumb.50.18%2520AM.png">
                                
                            </div>
                            <div class="details">
                                <span class="date">February 9, 2017</span>
                                
                                <br>
                                <span class="author" data-channel="@murat" href="/@murat">@murat</span> <span class="title">CEO.CA Pro Subscriptions: Soft Launch</span>
                                
                                
                            </div>
                        </div>
                    </a>
                
                    
                    <a class="go-to article-link unseen" data-channel="@tommy/notice-newsletter-writers-panel-thursday-feb-9-at-1pm-est" href="/@tommy/notice-newsletter-writers-panel-thursday-feb-9-at-1pm-est" data-type="featured" data-index="1">
                        
                        <div class="article ">
                            <div class="thumb">
                                
                                    <img src="https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9mkrl-Screen%20Shot%202017-02-08%20at%209-120-80-thumb.20.33%20AM.png">
                                
                            </div>
                            <div class="details">
                                <span class="date">February 8, 2017</span>
                                
                                <br>
                                <span class="author" data-channel="@tommy" href="/@tommy">@tommy</span> <span class="title">NOTICE: Newsletter Writers Panel Thurs Feb 9 at 1PM EST</span>
                                
                                
                            </div>
                        </div>
                    </a>
                
                    
                    <a class="go-to article-link unseen" data-channel="@newswire/leagold-mining-files-ni-43-101-technical-report-on" href="/@newswire/leagold-mining-files-ni-43-101-technical-report-on" data-type="featured" data-index="2">
                        
                        <div class="article ">
                            <div class="thumb">
                                
                                    <img src="https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9mpth-LMC2-120-80-thumb.jpg">
                                
                            </div>
                            <div class="details">
                                <span class="date">February 8, 2017</span>
                                
                                <br>
                                <span class="author" data-channel="@newswire" href="/@newswire">@newswire</span> <span class="title">Leagold Mining Files NI 43-101 Technical Report on Los Filos Gold Mine</span>
                                
                                
                                    <span class="hash cash" data-channel="LMC-H">$LMC-H</span>
                                
                            </div>
                        </div>
                    </a>
                
                    
                    <a class="go-to article-link unseen" data-channel="@Goldfinger/2017-set-to-be-robust-year-for-gold-sector-ma" href="/@Goldfinger/2017-set-to-be-robust-year-for-gold-sector-ma" data-type="featured" data-index="3">
                        
                        <div class="article ">
                            <div class="thumb">
                                
                                    <img src="https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c999e2-Gold_Reserve_lives-120-80-thumb.png">
                                
                            </div>
                            <div class="details">
                                <span class="date">February 3, 2017</span>
                                
                                <br>
                                <span class="author" data-channel="@Goldfinger" href="/@Goldfinger">@Goldfinger</span> <span class="title">2017 Set To Be Robust Year For Gold Sector M&amp;A</span>
                                
                                
                                    <span class="hash cash" data-channel="CNL">$CNL</span>
                                
                                    <span class="hash cash" data-channel="SBB">$SBB</span>
                                
                                    <span class="hash cash" data-channel="ICG">$ICG</span>
                                
                                    <span class="hash cash" data-channel="DGC">$DGC</span>
                                
                                    <span class="hash cash" data-channel="NHK">$NHK</span>
                                
                                    <span class="hash cash" data-channel="ASR">$ASR</span>
                                
                                    <span class="hash cash" data-channel="GUY">$GUY</span>
                                
                            </div>
                        </div>
                    </a>
                
                    
                    <a class="go-to article-link unseen" data-channel="@tommy/brent-cook-and-joe-mazumdar-at-the-2017-roundup-coreshack" href="/@tommy/brent-cook-and-joe-mazumdar-at-the-2017-roundup-coreshack" data-type="featured" data-index="4">
                        
                        <div class="article ">
                            <div class="thumb">
                                
                                    <img src="https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c96up5-Screen%20Shot%202017-02-02%20at%2010-120-80-thumb.31.47%20AM.png">
                                
                            </div>
                            <div class="details">
                                <span class="date">February 2, 2017</span>
                                
                                <br>
                                <span class="author" data-channel="@tommy" href="/@tommy">@tommy</span> <span class="title">Finding Mining's Next Takeouts at the Roundup Coreshack With Joe Mazumdar and Brent Cook</span>
                                
                                
                                    <span class="hash cash" data-channel="SOLG.L">$SOLG.L</span>
                                
                                    <span class="hash cash" data-channel="CDB">$CDB</span>
                                
                                    <span class="hash cash" data-channel="NHK">$NHK</span>
                                
                                    <span class="hash cash" data-channel="NSU">$NSU</span>
                                
                                    <span class="hash cash" data-channel="MARL">$MARL</span>
                                
                            </div>
                        </div>
                    </a>
                
            
        <div class="load-more load-more-featured" data-type="featured" data-before="1486060006806">show more ▾</div>
        </div>
    
    

    <div class="sponsors articles">
        
<h3>sponsors</h3>


    <a href="http://www.sandspringresources.com/s/home.asp" target="_blank">
        <div class="article">
            
                <div class="thumb" style="background-image: url(/public/assets/logos/ssp.png); "></div>
            
            <div class="details"><span class="hash cash" data-channel="SSP">$SSP</span> <span class="title">A 4.1 Million Ounce Call Option on Gold</span></div>
        </div>
    </a>

    <a href="http://www.dollyvardensilver.com/" target="_blank">
        <div class="article">
            
                <div class="thumb" style="background-image: url(/public/assets/logos/dv.png); "></div>
            
            <div class="details"><span class="hash cash" data-channel="DV">$DV</span> <span class="title">A Golden Triangle Trophy in the Sights of Majors</span></div>
        </div>
    </a>

    <a href="http://www.goviex.com/" target="_blank">
        <div class="article">
            
                <div class="thumb" style="background-image: url(/public/assets/logos/gxu.png); "></div>
            
            <div class="details"><span class="hash cash" data-channel="GXU">$GXU</span> <span class="title">Africa's Uranium Champion</span></div>
        </div>
    </a>


    <div style="text-align: center;">
        <div class="show-all-sponsors load-more">show more ▾</div>
    </div>


    </div>

    
        <div class="articles">
            <h3>community articles</h3>

            
            
                
                    
                    <a class="go-to article-link unseen" data-channel="@jerrio78/mymnutraceuticalstoacquire51ofcannabisproducer" href="/@jerrio78/mymnutraceuticalstoacquire51ofcannabisproducer" data-type="community" data-index="0">
                        
                        <div class="article ">
                            <div class="thumb">
                                
                                    <img src="https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9pp4i-artworks-000031512883-bjwf9v-t500x500-120-80-thumb.jpg">
                                
                            </div>
                            <div class="details">
                                <span class="date">February 9, 2017</span>
                                
                                <br>
                                <span class="author" data-channel="@jerrio78" href="/@jerrio78">@jerrio78</span> <span class="title">MYM Nutraceuticals to acquire 51% of cannabis producer</span>
                                
                                
                            </div>
                        </div>
                    </a>
                
                    
                    <a class="go-to article-link unseen" data-channel="@bullmarketmove/the-next-bull-market-move-interview-daniel-major-ceo-of-goviex-uranium" href="/@bullmarketmove/the-next-bull-market-move-interview-daniel-major-ceo-of-goviex-uranium" data-type="community" data-index="1">
                        
                        <div class="article ">
                            <div class="thumb">
                                
                                    <img src="https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9o3u0-GoviEx-Uranium-logo-2017-01-120-80-thumb.jpg">
                                
                            </div>
                            <div class="details">
                                <span class="date">February 8, 2017</span>
                                
                                <br>
                                <span class="author" data-channel="@bullmarketmove" href="/@bullmarketmove">@bullmarketmove</span> <span class="title">The Next Bull Market Move Interview -&nbsp;Daniel Major, CEO of Goviex Uranium</span>
                                
                                
                            </div>
                        </div>
                    </a>
                
                    
                    <a class="go-to article-link unseen" data-channel="@Newton/quarterly-update-with-brad-farquhar-input-capital-inp-and-the-design-of-streaming-contracts" href="/@Newton/quarterly-update-with-brad-farquhar-input-capital-inp-and-the-design-of-streaming-contracts" data-type="community" data-index="2">
                        
                        <div class="article ">
                            <div class="thumb">
                                
                                    <img src="https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9mgm9-2017-02-07-BF-Pic1-120-80-thumb.jpg">
                                
                            </div>
                            <div class="details">
                                <span class="date">February 8, 2017</span>
                                
                                <br>
                                <span class="author" data-channel="@Newton" href="/@Newton">@Newton</span> <span class="title">Quarterly Update with Brad Farquhar, Input Capital $INP, and the Design of Streaming Contracts</span>
                                
                                
                            </div>
                        </div>
                    </a>
                
            
        <div class="load-more load-more-featured" data-type="community" data-before="1486577938470">show more ▾</div>
        </div>
    

    <div class="links">
        <h3>links</h3>
        <div class="link videos">
            <a class="" href="https://www.youtube.com/user/ceocafilm/videos" target="_blank"><span class="icon icon-youtube"></span>Videos</a>
        </div>
        <div class="link">
            <a class="go-to" data-channel="@tommy/about" href="/@tommy/about"><span class="icon" style="font-size: 20px;">▲</span>About</a>
        </div>
        <div class="link">
            <a class="go-to" data-channel="@tommy/ceoca-house-rules" href="/@tommy/ceoca-house-rules"><span class="icon icon-home"></span>House Rules</a>
        </div>
    </div>

    <div class="mobile">
        <h3>downloads</h3>
        <div class="downloads">
            <a href="https://itunes.apple.com/us/app/ceo.ca/id994342021"><img class="appstore" src="/public/assets/appstore.svg"></a>
            <a href="https://play.google.com/store/apps/details?id=ca.ceo.chat.ceoca&amp;hl=en"><img class="googleplay" src="/public/assets/googleplay.svg"></a>
        </div>
    </div>

    <div class="legal">
        <h3>legal</h3>
        <div class="text" style="margin-top: 5px;">
            Use of this site indicates acceptance of the
            <a href="/@tommy/privacy-policy" class="hash go-to" data-channel="@tommy/privacy-policy">Privacy Policy</a>
            and
            <a href="/@tommy/terms-of-use" class="hash go-to" data-channel="@tommy/terms-of-use">Terms of Use</a>.
        </div>
        <div class="text">
            <div style="margin-top: 10px;">
                The information on this Website is not reliable and not intended to provide tax, legal, or investment advice. Nothing contained on the Website shall be considered a recommendation, solicitation, or offer to buy or sell a security to any person in any jurisdiction.    
            </div>

            <div style="margin-top: 10px;">CEO.CA members discuss high-risk penny stocks which can lose their entire value. Only risk what you can afford to lose. </div>

            <div style="margin-top: 10px;">© 2016 - Pacific Website Company Inc.</div>
        </div>
    </div>
</div>

</div>

                    </div>
                </div>
                <div class="header">
                    
<div class="see-all">
    
        
            <div class="fullname">
                Articles
            </div>
        
    
</div>

                </div>
            </div>

            <div id="center-column" class="article-mode">

                <div id="toolbar">

                    <div id="moderator">
                        
<div id="current-channel">
    <div class="online action leftpad toggle " id="num-online">
        <span class="channel @tommy/privacy-policy">
            
            @tommy/privacy-policy
        </span>
        
            <span class="details">
                
                    <span class="icon icon-users" style="font-size: 10px;"></span>
                    0 online
                
            </span>
        
    </div>

    <div class="controls">
        
            <span class="action toggle subscribe open-notifications " href="">
                    
                        <span class="call-to-action"><span class="icon icon-plus"></span> subscribe</span>
                    
            </span>
            <!-- <span class="toggle open-settings"><span class="icon-cog icon"></span></span> -->
        
    </div>
</div>

<div class="expanded scroll ">
    
        <div style="text-align: center;">
            Members of
            @tommy/privacy-policy
            
            
        </div>
        <div class="section">
            <h5>Moderators</h5>
            <table>
                
            </table>
        </div>
        <div class="section">
            <h5>Members</h5>
            <table>
                
            </table>
        </div>
        
        
    
</div>

                    </div>

                    

                    


                    <div id="notifications"></div>
                    <div id="online-list" class="scroll" style="display: none;"></div>
                </div>

                <div id="home" class="hidden">
                    


                </div>
                <div id="chat" class="scroll hardware-acceleration ">

                    <div class="padding">

                        <div id="article-container">
                            
                                <div id="article" class="">
    <div class="article-inner">
        

            

            <div class="author">
                by <a data-channel="@tommy" class="hash at" href="/@tommy">@tommy</a> on February 11, 2016 
                
            </div>
            <div class="title">CEO.CA Privacy Policy</div>
            <div class="actions">

                
                
                <span style="font-size: 18px;">
                    <a class="share-button" href="http://www.facebook.com/sharer.php?u=https://ceo.ca/@tommy/privacy-policy" target="_blank"><span class="icon icon-facebook2"></span></a>
<a class="share-button" href="http://twitter.com/share?url=https://ceo.ca/@tommy/privacy-policy&amp;hashtags=&amp;text=CEO.CA Privacy Policy%20by%20@tommy" target="_blank"><span class="icon icon-twitter2"></span></a>
<a class="share-button" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://ceo.ca/@tommy/privacy-policy&amp;summary=CEO.CA Privacy Policy%20by%20@tommy&amp;title=CEO.ca CEO.CA Privacy Policy" target="_blank"><span class="icon icon-linkedin"></span></a>
<a class="share-button" href="mailto:?Subject=An article from CEO.ca&amp;Body=CEO.CA Privacy Policy%20by%20@tommy%0A%0Ahttps://ceo.ca/@tommy/privacy-policy" target="_blank"><span class="icon icon-mail"></span></a>
<a class="share-button" target="_blank" href="https://ceo.ca/@tommy/privacy-policy"><span class="icon icon-link"></span></a>

                </span>
                

            </div>
            <div class="article-body article">
                <p class="">This Privacy Policy was last updated on February 4, 2017.<br></p><p>This Privacy Policy is part of the Website’s <a href="/@tommy/terms-of-use">Terms of Use</a>&nbsp;(the “Terms”). Please note that all the capitalized terms not defined in this Privacy Policy are defined in the Terms.</p><p>The Operator respects and upholds an individual’s right to privacy and to protection of his or her Personal Information (as defined below). Should you choose to provide Personal Information to us, we will use reasonable security safeguards to ensure that your information is protected.</p><p>This Privacy Policy applies to all visitors to the Website, including both Members and non-Members. This Privacy Policy governs how the Operator collects, uses, and discloses Personal Information of visitors to the Website. Please note that this Privacy Policy applies only to information collected via the Website and does not apply to information obtained or disclosed in offline correspondence.</p><p>By using the Website, you acknowledge that you have reviewed the terms of this Privacy Policy and consent to the collection, use, disclosure, and transfer of your Personal Information in accordance with this Privacy Policy.</p><p>1.  Definitions</p><p>“Member” means a person who is an individual who has satisfied all membership requirements by providing certain required Personal Information to the Operator for the purpose of gaining access to certain portion of the Website (such as chat.ceo.ca), and thereafter remains in good standing.</p><p>“Third Party” means an individual or an organization other than the Operator.</p><p>“Personal Information” means information about an identifiable individual as defined in applicable privacy legislation. It does not include aggregate information which cannot be associated with a specific individual and it does not include the name, title, business address, or business telephone number or other contact information about an individual at a place of business.</p><p>“Privacy Officer” means the person within the Operator’s organization responsible for the Operator’s compliance with this Privacy Policy.</p><p>“You” or “your” for the purposes of this Privacy Policy means visitors of the Website, including both Members and non-Members.</p><p>“Non-Professional” means any natural Person who is not a “securities professional”, in their personal capacity and not as a principal, officer, director, partner, employee or agent of any business or on behalf of any other Persons. A “securities professional” means any broker, dealer, investment advisor or Person, otherwise employed by an organization conducting professional activities involving the buying and selling of financial instruments, such as stocks, bonds, options, futures contracts or other trading vehicles. In addition, a Person shall not be considered Non-Professional if they are consultants, independent contractors, software developers or others that use Market Data for any purpose for profit other than the trading of a personal account. For greater certainty, a Non-Professional cannot be registered or qualified with:</p><ul><li>(a) a provincial securities commission;&nbsp;<br></li><li>(b)  the Securities Exchange Commission;  <br></li><li>(c)  the Commodities Futures Trading Commission;  <br></li><li>(d)  any provincial, state or other government securities agency;  <br></li><li>(e)  any securities exchange or association; or  <br></li><li>(f)  any commodities or futures contract market or association or perform functions that are the equivalent to those of such Persons.  <br></li></ul><p>2.  Accountability</p><p>The Operator is accountable for the Personal Information under its control. The Operator has appointed a Privacy Officer who is responsible for the Operator’s compliance with this Privacy Policy.</p><p>3.  Collection of Personal Information</p><p>Non-Members: When you browse the Website, you do so anonymously. The Operator does not collect Personal Information about you unless you voluntarily provide it to us when registering with the Website in order to access Members-only portions of the Website, submitting an inquiry to us, or for any other purposes that are identified when or before the time the Personal Information is collected.</p><p>Members: Where you interact with the Website to access those sections of the Website that are restricted to Members, we may ask you to register and/or sign in and we will collect certain Personal Information from you if you do so. The Personal Information that we may collect for this purpose may include your name, title, company, business address and phone number, and email address, and any other Personal Information that you choose to provide to us. The Operator collects this information for the purpose of enabling Members’ access to these restricted areas. Access is granted by submitting certain Personal Information for authentication.</p><p>Inquiries: You may submit an inquiry to us through the “Contact” link of the Website (ceo.ca/contact/). We may ask for certain Personal Information such as your name, e-mail address, and so on. We collect this information in order to enable us to respond to your inquiries in as thorough a manner as possible.</p><p>Server logs: Our servers automatically log information about visits to the Website in the normal course of establishing and maintaining web connections. The server logs record statistical information, such as visitors’ IP addresses, time and duration of visit, and websites visited. We collect this information so that we may continuously improve our Content. These statistics are reported in aggregate form only. We may process and use this aggregate data for various purposes, including, but not limited to, analysis of this data for trends and statistics, development of the Website and the Website’s features and offerings, assessing patterns of use, or planning and evaluating marketing initiatives. We do not link server log information to any other data in a way that would enable us to identify individual visitors.</p><p>Cookies: Cookies are small text files that contain a unique identifier that is placed on your computer. When you visit the Website, the Website saves the file with a matching identifier. When you revisit the Website days or weeks later, depending on the settings of your Internet browser, the Website may be able to recognize you by matching the cookie on your computer with the matching identifier in its database. Many Internet browsers are initially set to accept cookies. If you do not wish to accept cookies, you can set yours to refuse cookies or to alert you when cookies are being sent. If you reject cookies, you may be limited in using some areas of the Website.</p><p>4.  Use and Disclosure of Personal Information</p><p>We do not use or disclose Personal Information for any purposes other than those identified in this Privacy Policy, except with your consent or as required by law. We do not sell, lease, or trade information about you to other parties. Personal Information is retained only as long as is necessary for the fulfillment of the purposes identified in this Privacy Policy.</p><p>We may share (provide and receive) aggregate information, which is not personally identifiable, with others. This information may include demographic data such as the gender and/or geographic location of groups of Members and non-Members, but it will not include personal information (such as your name or email address). We may use aggregate demographic information about visitors to the Website in order to improve the services offered on the Website, for marketing purposes and/or industry reporting purposes. Where Personal Information is disclosed to Third Parties for the fulfillment of purposes described in this Privacy Policy, such Third Parties receiving the disclosed Personal Information will be contractually obligated to maintain confidentiality and security of the Personal Information and will be restricted from using such information in any way not expressly authorized by the Operator.</p><p>5.  Consent</p><p>By submitting Personal Information to the Operator, you agree that the Operator may collect your Personal Information and you consent to the use, disclosure, and transfer of your Personal Information in accordance with this Privacy Policy and as permitted or required by law. In addition, you represent and warrant that you have the right and authority or have obtained all necessary consents to provide any information, including any Personal Information of another individual that is provided by you to the Operator.</p><p>You may refuse or withdraw consent at any time, subject to legal and contractual restrictions and reasonable notice. You may refuse or withdraw your consent by contacting the Privacy Officer at the address listed below. Our Privacy Officer will explain your options and any consequences of refusing or withdrawing consent, and will record your choices.</p><p>6. Accuracy</p><p>The Operator will make reasonable efforts to ensure that Personal Information is as accurate, complete, and current as required for the purposes for which it was collected. If you find any inaccuracies in our information, you can contact the Privacy Officer and we will make the appropriate corrections promptly.</p><p>7.  Safeguards</p><p>The Operator will use appropriate security safeguards to protect your Personal Information from risks such as unauthorized access, collection, use, disclosure, copying, modification or disposal or similar risks. Safeguards include physical, administrative, and electronic security measures. Nevertheless, Internet transmissions are never completely private or secure. You understand that any messages or information you send to the Website may be read or intercepted by others, and you should therefore take special care in deciding what information you send to us.</p><p>When we are required by law to provide information, we take reasonable steps to verify the lawful authority for the collection and we will disclose only the information that is legally required.</p><p>8.  Access</p><p>You have the right to access your Personal Information under the control of the Operator. Upon request in writing to the Privacy Officer at the address listed below, you will be informed of the existence, use, and disclosure of your Personal Information and you will be given access to that information. In certain exceptional situations, the Operator may not be able to provide access to certain Personal Information that it holds about you. For example, the Operator may not provide access to Personal Information if doing so would reveal Personal Information about another individual. If access cannot be provided, the Operator will notify you, in writing, of the reasons for the refusal and you may contact the Privacy Officer with respect to your questions about the refusal.</p><p>9.  Children</p><p>The Website is not directed to children under 18 years of age without appropriate parental notice and consent. Protecting the privacy of children is very important to us. We do not knowingly collect or maintain Personal Information from people under 18 years of age. If you are under 18, please do not send any information about yourself to us. In the event that we learn that we have collected Personal Information from a child under age 18 without verification of parental consent, we will delete that information as quickly as reasonably possible.</p><p>10.  Opt-Out</p><p>When appropriate, Members of the Website are given the opportunity to either: (i) opt-out of receiving newsletters, alerts, bulletins, or other similar communications from the Operator or (ii) remove their Personal Information from the Operator’s records. If you wish to opt-out in the manner as listed above, please contact the Operator’s Privacy Officer at the address listed below.</p><p>11. Links to Other Sites</p><p>The Website contains links to Third Party Websites. The Operator is not responsible for the collection of Personal Information or the security or privacy of such information on Third Party Websites. The Operator encourages you to request and review the privacy policies of any Third Party Websites. This Privacy Policy applies solely to information collected through the Website.</p><p>12.  Revisions to this Privacy Policy</p><p>The development of the Operator’s policies and procedures for the protection of Personal Information is an ongoing process. Due to changes in technology and legal requirements, we may revise this Privacy Policy from time to time, without prior notice to you. Please ensure that you refer to the current version of the Privacy Policy.</p><p>13.  Web Server Location</p><p>The web servers hosting the Website and your Personal Information are located in the United States. By using the Website and by voluntarily providing your Personal Information to us, you are consenting to the transfer of your Personal Information to the web servers hosting the Website in the United States. In addition, you acknowledge that your Personal Information may be available to the United States governments or agencies under a lawful order.</p><p>14. Addressing your Questions or Concerns</p><p>If you have a question regarding this Privacy Policy or a concern or complaint regarding the privacy practices of the Operator, please contact the Privacy Officer by e-mail at info@ceo.ca, or by regular mail at:</p><p>1040 Palmerston Ave</p><p>West Vancouver, BC</p><p>V7S 2J3, Canada</p><p>Within a reasonable time upon receiving a written complaint, the Privacy Officer will conduct an investigation into the matter. Within a reasonable time of concluding the investigation, the Privacy Officer will inform you whether the complaint will be allowed or denied. If the Privacy Officer allows the complaint, the Operator will take appropriate measure necessary to rectify the source of the complaint.</p>
                            
                        
                    
                            
                        
                    
            </div>

            <div class="article-share-icons share-icons" style="text-align:center;font-size:22px;">
                <a class="share-button" href="http://www.facebook.com/sharer.php?u=https://ceo.ca/@tommy/privacy-policy" target="_blank"><span class="icon icon-facebook2"></span></a>
<a class="share-button" href="http://twitter.com/share?url=https://ceo.ca/@tommy/privacy-policy&amp;hashtags=&amp;text=CEO.CA Privacy Policy%20by%20@tommy" target="_blank"><span class="icon icon-twitter2"></span></a>
<a class="share-button" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://ceo.ca/@tommy/privacy-policy&amp;summary=CEO.CA Privacy Policy%20by%20@tommy&amp;title=CEO.ca CEO.CA Privacy Policy" target="_blank"><span class="icon icon-linkedin"></span></a>
<a class="share-button" href="mailto:?Subject=An article from CEO.ca&amp;Body=CEO.CA Privacy Policy%20by%20@tommy%0A%0Ahttps://ceo.ca/@tommy/privacy-policy" target="_blank"><span class="icon icon-mail"></span></a>
<a class="share-button" target="_blank" href="https://ceo.ca/@tommy/privacy-policy"><span class="icon icon-link"></span></a>

            </div>

            <div style="clear:both;"></div>

        
    </div>
</div>

                            
                        </div>

                        <div id="load-more-controls">
                            
                            
<div class="placeholder" style="height: 40px; display: none;">
    
        <div class="load-info">No more messages to load</div>
        <a href="#" class="load-more" style="display: none;" id="load-more"><span>see older messages</span></a>
    
</div>

                        </div>

                        <div class="inner">

                            
                        </div>
                        
                            <span class="load-more load-more-half" id="load-more-below" style="display:none"><span class="load-messages">see newer messages</span> or <span class="return-to-chat">go to most recent</span></span>
                        
                    </div>
                </div>

                

                <div id="post" class="">
                    
<div class="outer enabled">
    <div class="inner">
        
            <form action="/post" id="submit-spiel">
                <input disabled="" type="text" name="name" id="name" placeholder="Name (optional)">
                <textarea disabled="" name="spiel" id="type-here" placeholder="* please sign up to unlock full functionality"></textarea>
            </form>
        

    </div>

    
</div>

                </div>
            </div>

            <div id="channels" class="channels-list right-sidebar ">
                <div class="scroll main">

    <div class="default-channels column">
        <div class="padding">
            <div class="section">
                
                    <span class="button" id="login"><span class="icon icon-key"></span>Log in</span><br>
                    <span class="button" id="signup"><span class="icon icon-plus"></span>Sign up</span><br>
                
                <!--<span class="button open-search"><span class="icon icon-search"></span>Search</span><br />-->
                
                
            </div>
            
            <div id="channels-inner">
                






    
    
        <div class="section channels" data-type="defaults">
            
            
            
            

            <div class="list">
                
                    
                    <div class="channel  " channel="">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="" href="/"><span class="icon icon-home"></span>home
                            
                            
                        </a>
                    </div>

                
                    
                    <div class="channel  " channel="feed">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="feed" href="/feed"><span class="icon icon-notifications"></span>feed
                            
                            
                        </a>
                    </div>

                

                

                
            </div>
        </div>
    

    
    

    
    
        <div class="section channels" data-type="featured">
            
            
                <h3 data-id="featured">
                    Featured
                </h3>
            
            
            

            <div class="list">
                
                    
                    <div class="channel  " channel="index">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="index" href="/index"><span class="icon icon-sphere"></span>index
                            
                            
                        </a>
                    </div>

                
                    
                    <div class="channel  " channel="popular">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="popular" href="/popular"><span class="icon icon-thumbsup"></span>popular
                            
                            
                        </a>
                    </div>

                
                    
                    <div class="channel  " channel="featured">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="featured" href="/featured"><span class="icon icon-star-full"></span>editors
                            
                            
                        </a>
                    </div>

                
                    
                    <div class="channel  " channel="articles">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="articles" href="/articles"><span class="icon icon-pencil"></span>articles
                            
                            
                        </a>
                    </div>

                
                    
                    <div class="channel  " channel="newsroom">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="newsroom" href="/newsroom"><span class="icon icon-newspaper-o"></span>newsroom
                            
                            
                        </a>
                    </div>

                
                    
                    <div class="channel  " channel="insiders">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="insiders" href="/insiders"><span class="icon icon-file-text"></span>insiders
                            
                            
                        </a>
                    </div>

                
                    
                    <div class="channel  " channel="feedback">
                        <div class="new-count">
                            
                        </div><a class="go-to" data-channel="feedback" href="/feedback"><span class="icon icon-bubble"></span>feedback
                            
                            
                        </a>
                    </div>

                

                

                
            </div>
        </div>
    

    
    

    
    

    
    





<div class="section settings">
    <h3>settings</h3>
    <div class="inner">
        <div>
            <span id="audio" class="settings-switch" title="Toggle sound for new messages"><span class="icon icon-volume-medium"></span> Toggle sound</span>
        </div>
        <div>
            <span id="toggle-quote-type" class="settings-switch"><span class="icon">$</span> Toggle quote display</span>
        </div>
    </div>
</div>

            </div>
            
        </div>
    </div>

    <div class="header">
        <span class="show-all-channels">
            Personal channels
        </span></div>
    </div>
</div>

            </div>
        

        
            <div class="cover" id="signup-cover" style="display: none;">
                <div id="login-modal" class="modal scroll">
    <div class="close-button">×</div>

    <div class="logo"></div>
    <div id="signup-box">
        <form id="registration" novalidate="">
            <h1>Mobile Investment Conference</h1>
            <div class="sub-2">
                Share knowledge and track stocks in real-time among CEOs and market pros.
            </div>
            <input type="email" name="email" required="true" placeholder="Your email" class="email registration-email"><button type="submit" id="submit-registration">Request Invite!</button>

            <div class="agree">
                <label>
                    <input id="terms-checkbox" type="checkbox" name="agree" style="margin-right:10px;">I agree to the CEO.CA <a href="/@tommy/terms-of-use" target="new">Terms of Use</a> and <a href="/@tommy/privacy-policy" target="new">Privacy Policy</a>
                </label>
            </div>
        </form>
        <div class="actions">
            <div class="action">
                <span class="faint">Already a member?</span>
                <br><a class="login-now">Log in</a> now.
            </div>
            <div class="action">
                <span class="faint">Want to learn more?</span>
                <br>Visit the <a target="new" href="/@tommy/about">About</a> page.
            </div>
        </div>
    </div>


    <div id="login-box" class="inner" style="display:none;">
        <h1>Log in</h1>
        <form id="login-form">
            <input id="email" class="email" type="email" name="email" required="true" placeholder="email">
            <input id="password" class="password" type="password" name="password" required="true" placeholder="password">
            <button type="submit" id="submit-login">Log in</button><br>

            <a id="forgot_your_password">
                forgot your password?
            </a>
        </form>
    </div>
</div>

            </div>
        

        <script async="" src="//www.google-analytics.com/analytics.js"></script><script>
            window.gold_symbol = "GC=F"; 
            window.gold_ticker_object = {"new_message_count":0,"channel":"gold","change_percentage":"0.77%","direction":"down","personal":"true"}
        </script>

        
            <script type="text/javascript" src="/public/js/mini.js?v=343"></script>
        

        

        

        
            <script type="text/html" id="spiel_tmpl" class="template">
                <div class="message<% if (!spiel.timestamp){ %> unsent<% } %><% if (spiel.bot && spiel.bot == 'admin'){ %> system<% } %>" id="message-<%=common.htmlentities(spiel.spiel_id)%>" channel="<%= common.htmlentities(spiel.channel) %>">
    <div class="color-wrap">
        <% if(spiel.bot){%>
            <% if (spiel.bot != 'admin') { %>
                <span class="color" style="background:<%= spiel.color %>;border-radius:2px"></span>
            <% } %>
        <%} else {%>
            <div class="color" style="background:<%=spiel.color%>"><span class='hover-tip'>click to invite</span></div>
        <% } %>
    </div>

    <% if (spiel.bot && spiel.bot == 'admin') { %>

    <% } else if(spiel.name) { %>
        <span class="name<%= (spiel.fake) ? ' fake' : '' %>"><%- common.linkify("", common.htmlentities(spiel.name)) %></span>
    <% } else { %>
        <span class="name anon">anonymous</span>
    <% } %>
    <% if (spiel.edit_active){ %>

        <!-- <form class='edit-form'> -->
            <span class='spiel-content' contenteditable class='edit_input' style="background:white;border-bottom:1px dashed rgba(0,0,0,0.4);"><%= spiel.spiel %></span><br>
            <input type='button' value='Submit' class='edit-submit edit-button log-button'>
            <input type='button' value='Cancel' class='edit-cancel edit-button log-button'>
        <!-- </form> -->

    <% } else { %>

        <span class="spiel-content" vote-count="<%= spiel.votes %>" editable="<%= spiel.editable %>"><%- common.sedi_buttons(common.photo_buttons(common.linkify("", common.htmlentities(spiel.spiel), "_blank"))) %></span>

    <% } %>

</div>
<% if (spiel.bot != 'admin') { %>
    <div class='vote-listener vote<%= (spiel.votes > 0) ? " show" : "" %>'>
        <span class='vote-count'><%= spiel.votes %></span>
        <span class='icon-thumbsup'></span>
    </div>
<% } %>

<% if (!spiel.actions.disable) { %>
    <div class="spiel-actions" id ="spiel-<%= spiel.spiel_id %>" <% if(!spiel.actions.show_actions) { %> style="display:none;" <% } %>>

        <table>
            <tr>
                <th>Share</th>
                <td>
                    <a class="share-button" href="http://twitter.com/share?url=<%= spiel.actions.base_url%>/<%= spiel.channel %>%3F<%= spiel.spiel_id %>&hashtags=&text=<%= spiel.actions.truncated_message %>" target="_blank"><span class='icon icon-twitter2'></span></a>

                    <a class="share-button" href="http://www.facebook.com/sharer.php?u=<%= spiel.actions.base_url%>/<%= spiel.channel %>%3F<%= spiel.spiel_id %>" target = "_blank"><span class='icon-facebook2 icon'></span></a>

                    <a class="share-button" href="http://www.linkedin.com/shareArticle?mini=true&url=<%= spiel.actions.base_url%>/<%= spiel.channel %>%3F<%= spiel.spiel_id %>&summary=<%= spiel.actions.truncated_message %>&title=A message from CEO.ca" target = "_blank"><span class='icon icon-linkedin'></span></a>

                    <a class="share-button" href="mailto:?Subject=A message from CEO.ca&Body=<%= spiel.actions.truncated_message %>%0A%0A<%= spiel.actions.base_url %>/<%= spiel.channel %>%3F<%= spiel.spiel_id %>" target="_blank"><span class='icon-mail icon'></span></a>

                    <a class="share-button deep-link"><span class='icon icon-link'></span></a>
                </td>
            </tr>
            <% if (spiel.actions.role == 'public_moderator' || spiel.actions.admin || spiel.actions.role == 'owner' || spiel.actions.role == 'moderator' || ((spiel.editable === true || spiel.editable === 1) && spiel.actions.recent)) { %>
                <tr>
                    <th>Manage</th>
                    <td>
                        <a class="edit" title="Edit message">
                            <span class="icon icon-pencil action"></span>
                        </a>

                        <a class="remove-spiel" id="delete-<%= spiel.spiel_id %>" title="Delete message"><span class="icon icon-bin action"></span></a>
                    </td>
                </tr>
            <% } %>
            <% if(logged_in && !spiel.own_spiel) { %>
                <tr>
                    <th>Moderate</th>
                    <td>
                        <a class="vote-listener flag-irrelevant <%= spiel.flagged ? 'flagged' : '' %>" data-type="flag-irrelevant" title='Flag as Irrelevant'><span class='icon icon-flag'></span></a>
                        
                        <% if (spiel.actions.admin || spiel.actions.role == 'public_moderator') { %>
                            <a class="mute" title="Ban">
                                <span class="icon-auction icon <%- spiel.actions.role == 'public_moderator' ? 'public-mute' : '' %>"></span>
                            </a>
                        <% } %>
                        <% if (false) { %>
                            <a class="" title="Mute">
                                <span class="icon-mute icon"></span>
                            </a>
                        <% } %>
                    </td>
                </tr>
            <% } %>
            <% if (spiel.actions.admin) { %>
                <tr>
                    <th>Admin</th>
                    <td>
                        <a class="feature" title="Copy to #editors">
                            <span class="icon-star-full icon"></span>
                        </a>
                        <a class="to-index" data-spiel-id="<%= spiel.spiel_id %>" title="Copy to #index">
                            <span class="icon icon-home"></span>
                        </a>
                        <a class="whois" data-spiel-id="<%= spiel.spiel_id %>" title="Who is ...?">
                            <span class='icon question'></span>
                        </a>
                    </td>
                </tr>
            <% } %>
        </table>

    </div>
<% } %>

<% if (spiel.bot != 'admin') { %>
    <% timestamp = parseInt(spiel.timestamp); %>
    <span class="date">
        <% if(spiel.timestamp) { %>
            <% if(spiel.parent_id && spiel.parent_channel && spiel.parent_timestamp) { %>
                from
                <a class="hash" href="/<%= spiel.parent_channel %>?<%= spiel.parent_id %>" data-channel="<%= spiel.parent_channel %>" data-spiel_id="<%= spiel.parent_id %>">
                    <%= common.format_channel(spiel.parent_channel) %>,
                    <time datetime="<%= (new Date(spiel.parent_timestamp)).toISOString() %>" timestamp="<%= spiel.timestamp %>" title="<%= (new Date(spiel.parent_timestamp)).toISOString()%>">
                        <%= common.format_datetime(spiel.parent_timestamp) %>
                    </time>
                </a>
            <% } else { %>
                 <time datetime="<%= (new Date(spiel.timestamp)).toISOString() %>" timestamp="<%= spiel.timestamp %>" title="<%= (new Date(spiel.timestamp)).toISOString()%>">
                    <%= common.format_datetime(spiel.timestamp) %>
                </time>
            <% } %>
        <% } else { %>
            sending...
        <% } %>
    </span>
<% } %>


            </script>
        
            <script type="text/html" id="notification_popup_tmpl" class="template">
                <div class="notification-popup inner" id="mail_invite_pop_up">
    <% if(!user_logged_in) { %>
        <div class="error">
            You must be logged in to subscribe for e-mail and push alerts.
        </div>
    <% } else { %>
        <div class="current-channel-subscriptions">
            <h3>Subscriptions for <em><%= current_channel[0] == "@" ? '' : '#' %><%= current_channel %></em></h3>
            <% if(!email_frequency && !push_frequency) { %>
                <div class='add-to-watchlist'><span class="icon icon-plus"></span> Add to watchlist</div>
            <% } else { %>
                <div class='in-watchlist'>✓ Added to watchlist</div>
            <% } %>
            <% if(email_frequency || push_frequency) { %>
                    <span class='remove-from-watchlist'><span class='icon icon-cross'></span> Remove</span>
            <% } %>
            <br />
            <div class="notification-section section-email">
                <h4>Email</h4>
                <table>
                    <tr>
                        <th rowspan="3">
                            <span class="icon-envelope notification_action"></span>
                        </th>
                            <td><input id="no-emails" class="email-radio" value="off" type="radio" name="email-radio" <% if(email_frequency === "off" || !email_frequency) { %> checked <% } %> ></td>
                        <td><label for="no-emails">Off</label></td>
                    </tr>
                    <tr>
                        <td><input id="email-daily" value="daily" class="email-radio" type="radio" name="email-radio" <% if(email_frequency === 'daily'){ %>checked <% } %> ></td>
                        <td><label for="email-daily">On<label></td>
                    </tr>
                </table>
            </div>
            <div class="notification-section section-push">
                <h4>Push notification</h4>
                    
                <% if(push_enabled) { %>
                     <table>  
                        <tr>
                            <th rowspan="3">
                                <span class="icon-mobile notification_action"></span>
                            </th>
                            <td><input id="no-push" class="push-radio" value="off" type="radio" name="push-radio" <% if(push_frequency === "off" || !push_frequency) { %> checked <% } %>></td>
                            <td><label for="no-push">Off</label></td>
                        </tr>
                        <tr>
                            <td> <input id="instant-push" class="push-radio" value="instant" type="radio" name="push-radio" <% if(push_frequency === "instant") { %> checked <% } %>></td>
                            <td><label for="instant-push">On</label></td>
                        </tr>    
                    </table>
                <% } else { %>
                    <p class='tip'>
                        Please download our app to enable push notifications.
                        <div class="download">
                            <a href="https://itunes.apple.com/us/app/ceo.ca/id994342021"><img class="appstore" src="<%= STATIC_URL %>assets/appstore.svg" /></a>
                            <a href="https://play.google.com/store/apps/details?id=ca.ceo.chat.ceoca&hl=en"><img class="googleplay" src="<%= STATIC_URL %>assets/googleplay.svg" /></a>
                        </div>
                    </p>
                <% } %>
            </div>
        </div>    
    <% } %>
</div>

            </script>
        
            <script type="text/html" id="online_list_tmpl" class="template">
                <% if(open == true) { %>
    <div id="online-users">
        <% if (loading) { %>
            <span style="font-size:12px">loading...</span>
        <% } else { %>
            <% for (var i=0; i < online_users.length; i++) { %>
                <div class="online-user <%- online_users[i].active ? "active" : "inactive" %>" data-public-id=<%= online_users[i].public_id %>>
                    <div class="color" style="background-color:<%= online_users[i].color %>"></div>
                    <span class="name name-online-list" data-name="<%- online_users[i].name %>"><%= online_users[i].name %></span>
                </div>
            <% } %>
            <% if(offline_users.length > 0) { %>
                <% for (var i=0; i < offline_users.length; i++) { %>
                    <div class="online-user inactive offline" data-public-id=<%= offline_users[i].public_id %>>
                        <div class="color" style="background-color:<%= offline_users[i].color %>"></div>
                        <span class="name name-online-list" data-name="<%- offline_users[i].name %>"><%= offline_users[i].name %></span>
                    </div>
                <% } %>
            <% } %>
        <% } %>
    </div>
<% } %>

            </script>
        
            <script type="text/html" id="channels_tmpl" class="template">
                <%

    var format_percentage = function(percent) {
        return parseFloat(percent).toFixed(1) + "%";
    }

    var editable_types = [
        "companies",
        "people",
        "tags",
    ];

    var admin_types = [
        "active_companies",
        "active_topics",
        "popular_topics",
        "popular_companies",
        "popular_users",
    ];

    var rename = {
        'direct_messages': 'Direct Messages',
        'active_topics': 'Topics',
        'active_companies': 'Companies',
        'popular_companies': 'Companies',
        'popular_users': 'Users',
        'popular_topics': 'Topics',
        'suggested': 'Tags',
        'private': 'Private',
        'featured': 'Featured',
        'panels': 'Panels',
        'tags': 'Tags',
        'people': 'People',
        'recent': 'Recent',
        'watchlist': 'Watchlist',
        'companies': 'Companies',
        'notifications': 'Notifications',
        'tsx_g': 'TSX gainers',
        'tsxv_g': 'Venture gainers',
        'tsx_l': 'TSX losers',
        'tsxv_l': 'Venture losers',
        'tsx_a': 'TSX by volume',
        'tsxv_a': 'Venture by volume',
        null: 'Uncategorized',
    };

    if(typeof quote_type === "undefined") {
        var quote_type = "%";
    }

%>

<% for(var j=0; j < channel_types.length; j++) { %>
    <%
        if(!categories[channel_types[j]]) { /*console.log("missing", channel_types[j])*/; continue; }
        var category_id = categories[channel_types[j]].id ? categories[channel_types[j]].id : channel_types[j];
        var _channels = categories[category_id].channels ? categories[category_id].channels : categories[category_id];
        var category_name = categories[category_id].name ? categories[category_id].name : category_id;
        category_name = rename[category_name] ? rename[category_name] : category_name;
        

        if(!_channels) {
            _channels = [];
        }

        // fix sortings
        if (category_id == "featured") {
        } else if(["notifications", "private", "panels", "direct_messages"].indexOf(category_id) != -1) {
            _channels.sort(function(a, b) {
                if (a.channel == current_channel) return -1;
                if (b.channel == current_channel) return 1;
                if (!a.last_seen && b.last_seen) return -1;
                if (a.last_seen && !b.last_seen) return 1;
                if (a.new_message_count > b.new_message_count) return -1;
                if (a.new_message_count < b.new_message_count) return 1;
                if (a.last_seen > b.last_seen) return -1;
                if (a.last_seen < b.last_seen) return 1;
                return 0;
            });
        }
    %>
    <% if(_channels.length > 0 || (logged_in && (context.edit || editable_types.indexOf(category_id) != -1))) { %>
        <div class="section channels" data-type="<%= category_id ? category_id : "" %>">
            <% if(context.edit) { %>
                <% if(_channels.length > 0) { %>
                    <!-- <div class="configure settings" data-id="<%= category_id %>"><span class="icon icon-cog"></span></div> -->
                <% } else { %>
                    <div class="configure remove-category" data-id="<%= category_id %>"><span class="icon icon-cross"></span></div>
                <% } %>
            <% } %>
            <% if(category_id != "defaults") { %>
                <h3 <%- (context.edit && category_id) ? 'class="editable" contenteditable' : '' %> data-id="<%= category_id %>">
                    <%= category_name %>
                </h3>
            <% } %>
            <% var limit = 4; %>
            <% var collapsable = ( _channels.length - _channels.slice(0,limit).length > 1 ) %>

            <div class="list">
                <% for(var i=0; i < (collapsed[category_id] && collapsable ? _channels.slice(0,limit).length : _channels.length); i++) { %>
                    <%
                        var item = _channels[i];
                        var formatting = common.get_channel_formatting(item);

                        var classes = formatting.classes;
                        var label = formatting.label;
                        var icon = formatting.icon;

                        if(item.channel.toLowerCase() === current_channel.toLowerCase()) {
                            classes += " highlight";
                        }
                        if(logged_in && (common.is_private_channel(item.channel) || common.is_panel(item.channel)) && !item.last_seen) {
                            classes += " alert";
                        }

                        if((category_id == "direct_messages" || common.is_direct_message_channel(item.channel)) && context.user) {
                            var handle = context.user.handle ? context.user.handle : "";
                            label = " " + label.substr(1, label.length-1).replace(handle.toLowerCase(), '').replace('/', '');
                            classes += " dm";
                            icon += " <span class='with'>with</span> ";
                        }
                    %>
                    <div class="channel <%= classes %> <%= (item.channel.toLowerCase() == "gold" && category_id == 'commodities') ? 'gold' : '' %>" channel="<%= item.channel %>">
                        <div class="new-count">
                            <% if(item.channel != current_channel && item.new_message_count > 0) { %>
                                <% if(item.new_message_count >= 50) { %>
                                    <%= Math.min(item.new_message_count, 50) + '+' %>
                                <% } else { %>
                                    <%= item.new_message_count %>
                                <% } %>
                            <% } %>
                        </div><a class="go-to" data-channel="<%= item.channel %>" href="/<%= item.channel %>"><%- icon %><%= label %>
                            <% if(item.direction && item.value) { %>
                                <%
                                    var arrow = "<span class='icon-arrow-" + (item.direction == "down" ? "down" : "up")  + "'></span>";
                                %>
                                <span class='<%= item.direction %>'>
                                    <%
                                        // fix to AT LEAST two decimal places, possibly more
                                        var value = item.value;
                                        value = parseFloat(value);
                                        value = value ? (value < 0.5 ? common.format_price(value) : value.toFixed(Math.max(2, (value.toString().split('.')[1] || []).length))) : '';

                                        var percent = parseFloat(item.change_percentage.replace("%", "").replace("+", ""));
                                        percent = percent ? percent.toFixed(1) : 0;
                                    %>
                                    <%- arrow %><%= quote_type == "%" ? percent+"%" : value %>
                                </span>
                            <% } %>
                            <% if(item.company || context.show_titles) { %>
                                <span class='desc'><%= item.company ? item.company : item.title %></span>
                            <% } %>
                        </a><% if(["direct_messages", "private", "panels", "recent", "notifications"].indexOf(category_id) != -1 || (admin == true && admin_types.indexOf(category_id) != -1) || (logged_in && context.edit)) { %><div class="delete">&times;</div><% } %>
                    </div>

                <% } %>

                <% if (_channels.length > limit && collapsed[category_id] !== undefined && collapsable ) { %>
                    <% if (!collapsed[category_id]) { %>
                        <span class="sidebar-collapse button"><span class='small-arrow icon-chevron-up'></span> less</span>
                    <% } %>
                    <% if (collapsed[category_id]) { %>
                        <span class="sidebar-reveal button"><span class='small-arrow icon-chevron-down'></span> <%= _channels.length - limit %> more</span>
                    <% } %>
                <% } %>

                <% if(logged_in && (context.edit || editable_types.indexOf(category_id) != -1)) { %>
                    <% if(typeof adding_channel_to_category != 'undefined' && adding_channel_to_category == category_id) { %>
                        <form class='add-channel-form' data-category="<%= category_id %>" autocomplete="off">
                            <span class='inline-edit-wrapper'>
                                <input type="text" class="edit typing-channel" name='query_value' placeholder="start typing" data-category="<%= category_id %>" />
                            </span>
                            <button type="button" style="display:none;"></button>
                        </form>
                    <% } else { %>
                        <span class='add-channel' data-category="<%= category_id %>"><span class="icon icon-plus"></span>Add a channel</span>
                    <% } %>
                <% } %>
            </div>
        </div>
    <% } %>
<% } %>

            </script>
        
            <script type="text/html" id="modal_tmpl" class="template">
                <div class="cover" id="<%= id %>">
    <div id="<%= id %>-modal" class="modal generic">
    	<div class="outer">
	        <div class="header"> <%= title %> </div>
    		<div class="inner scroll">
		        <%- Template( template_name+'_tmpl', template_data ) %>
	        </div>
	        <div class="close">&times;</div>
        </div>
    </div>
</div>
            </script>
        
            <script type="text/html" id="post_tmpl" class="template">
                <%
    var unpostable_channels = {
        'feed': {
            'message': "This feed combines messages from your subscriptions.",
        },
        'newsroom': {
            'message': "This channel is for news releases.",
        },
        'featured': {
            'message': "This channel is for editor's picks and CEO.CA sponsors.",
        },
        'popular': {
            'message': "This channel is for posts with 4 or more votes.",
        },
        'articles': {
            'message': 'This channel is for published articles.',
        },
    }

    var can_post = (
        !banned &&
        !unpostable_channels[channel] &&
        !(common.is_panel(channel) && role == "spectator")
    );
%>
<div class='outer <%= can_post ? 'enabled' : 'disabled' %>'>
    <div class='inner'>
        <% if(logged_in) { %>
            <% if(banned) { %>
                <div class='unpostable'>You have been banned from posting to this channel.</div>
            <% } else if(unpostable_channels[channel]) { %>
                <div class='unpostable'><%= unpostable_channels[channel].message %></div>
            <% } else if(common.is_panel(channel) && role == "spectator") { %>
                <div class='unpostable'>Only panel members are allowed to post in this channel.</div>
            <% } else { %>
                <form action='/post' id="submit-spiel">
                    <span class='color' id='my-color' style='background-color: <%= color %>;'></span>
                    <input type='text' name='name' id='name' value='<%= user ? user.name : '' %>' placeholder='Name (optional)' /><span class='open-panel'>▲</span>
                    <input type='hidden' name='session' value='' />
                    <input type='hidden' name='channel' value='' />
                    <textarea <%= !user_verified ? 'disabled' : "" %> name='spiel' id='type-here' placeholder="<%= user_verified ? 'Type your message' : "account verification pending"  %>" ><%= text %></textarea>
                    <button type='submit' class='submit' id='submit' title='Send message'><span class="icon-arrow-right-alt1"></span></button>
                    <% if(user_verified) { %>
                        <a class='upload icon-files-empty' title='Upload a file'></a>
                        <input type='file' id='file-upload' style='display: none;' value="upload" />
                    <% } %>
                </form>
            <% } %>
        <% } else { %>
            <form action='/post' id="submit-spiel">
                <input disabled type='text' name='name' id='name' placeholder='Name (optional)' />
                <textarea disabled name='spiel' id='type-here' placeholder='* please sign up to unlock full functionality'></textarea>
            </form>
        <% } %>

    </div>

    <% if(user) { %>
        <div class='panel' style="display: none;">
            <% if(user.handle) { %>
                <p>Your claimed user handle is <a href="" class="hash" data-channel="<%= user.handle %>"><%= user.handle %></a>.</p>
                <a class="action use">Use <%= user.handle %></a>
                <p style="font-style: italic; font-size: 0.9em;">
                    You may still go anonymous, however you will appear as a verified user if you use <%= user.handle %> as your name.
                </p>
            <% } else { %>
                <p>You have not reserved your username yet.</p>
                <p>Claim your username to prevent others from using <%= (user && user.name) ? 'the name ' + user.name : 'your name' %>.</p>
                <a class="action claim">Claim your username</a>
                <p style="font-style: italic; font-size: 0.9em;">
                    Don't worry, you will still be able to go anonymous when you want.
                </p>
            <% } %>

            <a class="close">&times;</a>
        </div>
    <% } %>
</div>

            </script>
        
            <script type="text/html" id="home_tmpl" class="template">
                
<% if(current_channel == "") { %>
<div class='scroll'>
    <div class='inner'>
        <% if(!context.logged_in) { %>
            <div class='intro'>
                <h1>Mobile Investment Conference</h1>
                <div class='sub-2'>
                    Share knowledge and track stocks in real-time among CEOs and market pros.
                </div>
            </div>
        <% } %>

        <div class='content'>
            <% if(!context.loading) { %>
                <div class='channels-list public'>
                    <% 
                        var state = {
                            current_channel: current_channel,
                            collapsed: {},
                            logged_in: logged_in,
                            admin: admin,
                            channels: featured_channels,
                            categories: common.categorize_home_channels(featured_channels),
                            channel_types: ['featured'],
                            quote_type: context.sidebar_settings.quote_type,
                        };
                    %>
                    <%- (typeof t !== 'undefined') ? t.render('partials/channels.html', state) : Template("channels_tmpl", state) %>
                </div>
                <% if(context.logged_in && context.watchlist) { %>
                    <%
                        var watchlist_object = {};
                        context.watchlist.forEach(function(w){
                            watchlist_object[w.id] = w;
                        });
                        var watchlist_keys = context.watchlist.map(function(w){ return w.id });
                    %>
                    <div id='watchlist'>
                        <h2 class='watchlist-save'>
                            Watchlist
                            <% if(context.edit) { %>
                                <span class='action cancel'>
                                    Cancel
                                </span>
                                <span class='action done'>
                                    <span class='icon'>✓</span> Save
                                    <% if(context.saving) { %>
                                        (saving...)
                                    <% } %>
                                </span>
                            <% } else { %>
                                <span class='action edit'><span class='icon icon-pencil'></span> Edit</span>
                            <% } %>
                        </h2>
                        <div class='spacer'></div>
                        <% if(context.edit) { %>
                            <div class='text'>Categories &amp; channels are ordered alphabetically for now. Drag &amp; drop coming soon.</div>
                        <% } %>
                        <% if(!context.edit && context.watchlist.length == 0) { %>
                            <div class="text">Your watchlist is empty.</div>
                        <% } %>
                        <div class='channels-list <%= context.edit ? 'edit' : '' %>'>
                            <% if(context.edit) { %>
                                <div class='add-category'><span class='icon icon-plus'></span> Add a category</div>
                            <% } %>
                            <% if(context.watchlist.length > 0) { %>
                                <% 
                                    var state = {
                                        current_channel: context.current_channel,
                                        collapsed: {},
                                        logged_in: context.logged_in,
                                        admin: context.admin,
                                        categories: watchlist_object,
                                        channel_types: watchlist_keys,
                                        quote_type: context.sidebar_settings.quote_type,
                                        edit: context.edit,
                                        adding_channel_to_category: context.adding_channel_to_category,
                                    };
                                %>
                                <%- (typeof t !== 'undefined') ? t.render('partials/channels.html', state) : Template("channels_tmpl", state) %>
                            <% } %>
                            <% if(context.edit) { %>
                                <div class='add-category'><span class='icon icon-plus'></span> Add a category</div>
                            <% } %>
                        </div>
                    </div>
                <% } %>
                <h2>
                     Active Today
                </h2>
                <div class='spacer'></div>
                <div class='channels-list public'>
                    <% 
                        var state = {
                            current_channel: current_channel,
                            collapsed: {},
                            logged_in: logged_in,
                            admin: admin,
                            categories: common.categorize_home_channels(featured_channels),
                            channel_types: ['active_companies', 'active_topics'],
                            quote_type: context.sidebar_settings.quote_type,
                        };
                    %>
                    <%- (typeof t !== 'undefined') ? t.render('partials/channels.html', state) : Template("channels_tmpl", state) %>
                </div>
                
                <h2>Most watched</h2>
                <div class='spacer'></div>
                <div class='channels-list public'>
                    <% 
                        var state = {
                            current_channel: current_channel,
                            collapsed: {},
                            logged_in: logged_in,
                            admin: admin,
                            categories: common.categorize_home_channels(featured_channels),
                            channel_types: ['popular_companies', 'popular_topics', 'popular_users'],
                            quote_type: context.sidebar_settings.quote_type,
                        };
                    %>
                    <%- (typeof t !== 'undefined') ? t.render('partials/channels.html', state) : Template("channels_tmpl", state) %>
                </div>
                
                <h2>Top movers</h2>
                <div class='spacer'></div>
                <div class='channels-list'>
                    <% 
                        var state = {
                            current_channel: current_channel,
                            collapsed: {},
                            logged_in: logged_in,
                            admin: admin,
                            categories: common.categorize_top_movers(context.top_movers),
                            channel_types: ['tsxv_a', 'tsxv_g', 'tsxv_l', 'tsx_a', 'tsx_g', 'tsx_l'],
                            quote_type: context.sidebar_settings.quote_type,
                        };
                    %>
                    <%- (typeof t !== 'undefined') ? t.render('partials/channels.html', state) : Template("channels_tmpl", state) %>
                </div>
            <% } else { %>
                <h2>Loading...</h2>
            <% } %>
        </div>
    </div>
</div>
<% if(context.edit) { %>
    <div class='floating-buttons watchlist-save'>
        <span class='action cancel'>
            Cancel
        </span>
        <span class='action done'>
            <span class='icon'>✓</span> Save
            <% if(context.saving) { %>
                (saving...)
            <% } %>
        </span>
    </div>
<% } %>
    
<% } %>

            </script>
        
            <script type="text/html" id="nav_tmpl" class="template">
                
                <%

                    var item = {
                        type: stock_info ? "cash" : "",
                        channel: current_channel,
                    }

                    var formatting = common.get_channel_formatting(item);

                %>
                <div class='tab <%= current_tab == "left-sidebar" ? "current" : "" %> toggle-left-sidebar'>
                    <div class="shadow"></div>
                    <div class="shadowed">
                        <svg viewBox="0 0 5 40">
                            <path d="M0,40 L5,5 L5,40 L0,40" />
                        </svg></div><div class='label'><%
                            
                            if(context.stock_info) { %><span class="icon icon-stats-dots"></span> <%= stock_info.company %><% }
                            else if(common.is_handle(current_channel) && !common.is_article(current_channel)) { %><span class="icon icon-users"></span> Profile<% }
                            else { %><span class="icon icon-newspaper-o"></span> Articles<% }
                        %>
                    </div><div class="shadowed">
                        <svg viewBox="0 0 5 40">
                            <path d="M0,5 L5,40 L0,40 L0,5" />
                        </svg>
                    </div>
                </div><div class='tab <%= current_tab == "chat" ? "current" : "" %> toggle-chat'>
                    <div class="shadow"></div>
                    <div class="shadowed">
                        <svg viewBox="0 0 5 40">
                            <path d="M0,40 L5,5 L5,40 L0,40" />
                        </svg></div><div class='label'>
                        <span class='channel'>
                            <%- formatting.icon ? formatting.icon : '' %><%= formatting.label %>
                        </span> channel
                    </div><div class="shadowed">
                        <svg viewBox="0 0 5 40">
                            <path d="M0,5 L5,40 L0,40 L0,5" />
                        </svg>
                    </div>
                </div>

            </script>
        
            <script type="text/html" id="sidebar_tmpl" class="template">
                <div class="scroll main">

    <div class="default-channels column">
        <div class="padding">
            <div class="section">
                <% if(!sidebar.logged_in) { %>
                    <span class="button" id="login"><span class="icon icon-key"></span>Log in</span><br />
                    <span class="button" id="signup"><span class="icon icon-plus"></span>Sign up</span><br />
                <% } %>
                <!--<span class="button open-search"><span class="icon icon-search"></span>Search</span><br />-->
                <% if(sidebar.logged_in) { %>
                    <span class="button new-channel open-start-channel"><span class="icon icon-arrow-right-alt1"></span>Find / Start a channel</span><br />
                <% } %>
                <% if(sidebar.logged_in && sidebar.user.verified == "VERIFIED") { %>
                    <span class="button open-my-articles"><span class="icon icon-pencil"></span>My articles</span><br />
            </div>
                <% } %>
            </div>
            
            <div id="channels-inner">
                <%- (typeof t !== 'undefined') ? t.render('partials/sidebar_channels.html', sidebar) : Template("sidebar_channels_tmpl", sidebar) %>
            </div>
            <% if(sidebar.logged_in) { %>
                <div class="section logout">
                    <div class="inner" style="margin: 5px 25px 10px 25px;">
                        You are logged in as <%= sidebar.logged_in %>
                    </div>
                    <a href="#" class="button open-pro-manager">Pro subscription</a><br />
                    <% if (sidebar.admin) { %>
                        <a href="#" class="button" id="admin-open-admin-panel">Admin Panel</a><br />
                    <% } %>
                    <a href="/api/logout" class="button" id="logout">Logout</a>
                </div>
            <% } %>
        </div>
    </div>

    <div class="header">
        <span class="show-all-channels">
            Personal channels
        </div>
    </div>
</div>

            </script>
        
            <script type="text/html" id="sidebar_channels_tmpl" class="template">
                
<% var channel_types = ['defaults', 'notifications', 'featured', 'direct_messages', 'private', 'recent']; %>

<% var data = {
    channel_types: channel_types,
    categories: categories,
    collapsed: collapsed,
    current_channel: current_channel,
    admin: admin,
    logged_in: logged_in,
    quote_type: quote_type,
    user: user,
} %>
<%- (typeof t !== 'undefined') ? t.render('partials/channels.html', data) : Template("channels_tmpl", data) %>

<% if(context.watchlist && context.watchlist.length > 0) { %>
    <%
        var watchlist_object = {};
        context.watchlist.forEach(function(w){
            watchlist_object[w.id] = w;
        });
        var watchlist_keys = context.watchlist.map(function(w){ return w.id });
    %>
    <% 
        var state = {
            current_channel: context.current_channel,
            collapsed: collapsed,
            logged_in: context.logged_in,
            admin: context.admin,
            categories: watchlist_object,
            channel_types: watchlist_keys,
            quote_type: context.quote_type,
            user: user,
        };
    %>
    <%- (typeof t !== 'undefined') ? t.render('partials/channels.html', state) : Template("channels_tmpl", state) %>
<% } %>

<div class="section settings">
    <h3>settings</h3>
    <div class="inner">
        <div>
            <span id='audio' class='settings-switch' title='Toggle sound for new messages'><span class='icon <%= mute === true ? "icon-volume-mute" : "icon-volume-medium" %>'></span> Toggle sound</span>
        </div>
        <div>
            <span id='toggle-quote-type' class='settings-switch'><span class='icon'><%= quote_type == "%" ? "%" : "$" %></span> Toggle quote display</span>
        </div>
    </div>
</div>

            </script>
        
            <script type="text/html" id="spiel_actions_tmpl" class="template">
                
            </script>
        
            <script type="text/html" id="search_results_tmpl" class="template">
                <div class="cover">
    <div id="search-results" class="modal">
        <div class="outer">
            <div class="header">
                <div class='padding'>
                    <div style="margin-bottom: 5px;">
                        <span>filter: </span>
                        <a class="channel <%= (search_channel == "__all__") ? 'search-option-chosen' : '' %>" data-channel="__all__">public</a>
                        <span>/</span>
                        <a class="channel <%= (search_channel == "__private_only__") ? 'search-option-chosen' : '' %>" data-channel="__private_only__">private</a>
                        <% if(current_channel) { %>
                            <span>/</span>
                            <a class="channel <%= (search_channel == current_channel) ? 'search-option-chosen' : '' %>" data-channel="<%= current_channel %>"><%= common.format_channel(current_channel) %></a>
                        <% } %>
                    </div>

                    <div>
                        <span>sort by: </span>
                        <a id="sort-by-age" class="<%= (type == 'recent') ? 'search-option-chosen' : '' %>">recent</a>
                        <span>/</span>
                        <a id="sort-by-relevant" class="<%= (type == 'relevant') ? 'search-option-chosen' : '' %>">relevant</a>
                    </div>
                </div>
                <form class="search-modal-form">
                    <label class="inline-edit-wrapper"><span class="icon icon-search"></span> <input type="text" class="search-query" value="<%= decodeURIComponent(query) %>" placeholder="Type to search channels or messages..." /></label>
                    <input type="submit" class="hidden" value="Search" />
                </form>

            </div>

            <div class="inner scroll">
                <% if(!query) { %>
                <% } else { %>
                    
                    <% if(loading) { %>
                        <div style="color: #999; margin: 20px;">loading...</div>
                    <% } else { %>
                        <% if(matching_channels.length) { %>
                            <div class='matching-channels'>
                                <% var data = {
                                    channel_types: ['channels'],
                                    current_channel: '',
                                    collapsed: {},
                                    categories: {'channels': matching_channels},
                                    admin: false,
                                    adding_channel_to_category: null,
                                    logged_in: false,
                                    expanded: true,
                                    show_titles: true,
                                } %>
                                <div class="channels-list">
                                    <%- (typeof t !== 'undefined') ? t.render('partials/channels.html', data) : Template("channels_tmpl", data) %>
                                </div>
                            </div>
                        <% }; %>

                        <div class='results'>
                            <% if(results.length == 0) { %>
                                <h3>No results found while searching messages.</h3>
                            <% } %>
                            <% if( results.length > 0) { %>
                                <h3>messages</h3>
                                <% for(var i=0; i<results.length; i++) { %>
                                    <%
                                        var spiel = results[i];
                                        spiel.timestamp = parseInt(spiel.timestamp);
                                    %>


                                    <div class="row" data-spiel-id="<%= spiel.spiel_id %>" data-channel="<%= spiel.channel %>">
                                            <div class="message">
                                                <span class="color" style="background: <%= spiel.color %>;"></span>
                                                <span>
                                                    <%
                                                        var truncated;

                                                        if(spiel.spiel.length > 300) {
                                                            spiel.spiel = spiel.spiel.substring(0, 300) + "...";
                                                            truncated = true;

                                                        } else {
                                                            truncated = false;
                                                        }

                                                        var spiel_content = common.htmlentities(spiel.spiel);
                                                    %>
                                                    <% if(spiel.name) { %><span class="name"><%- common.linkify(window.location.origin, common.htmlentities(spiel.name)) %></span><% } %> <span class="spiel-content"><%- common.linkify( window.location.origin, common.htmlentities(spiel_content)) %></span>

                                                    <% if(truncated === true) { %>
                                                         <a class="hash" data-channel="<%= spiel.channel %>" data-spiel_id="<%= spiel.spiel_id %>">
                                                            [ click to see full message ]
                                                        </a>
                                                    <% } %>
                                                </span>
                                            </div>

                                            <span class="date">
                                                from <a href="/<%=spiel.channel %>?<%=spiel.spiel_id %>" data-channel="<%= spiel.channel %>" data-spiel_id=<%= spiel.spiel_id %> class="hash">#<%= spiel.channel %>, <time datetime="<%= (new Date(spiel.timestamp)).toISOString() %>" timestamp="<%=spiel.timestamp%>" title="<%= (new Date(spiel.timestamp)).toISOString()%>"><%= common.format_datetime(spiel.timestamp) %></time></a>
                                            </span>

                                    </div>

                                <% } %>

                                <% if (page < total_pages && total_pages != 0 ){ %>
                                    <a class='load-more'>load more</a>
                                <% } %>
                            <% } %>
                        </div>
                    <% } %>
                <% } %>
            </div>
        </div>
        <div class="close">&times;</div>
    </div>
</div>

            </script>
        
            <script type="text/html" id="search_suggestions_tmpl" class="template">
                
<% var channel_types = [
    "tags",
]; 

var default_categories = {
    companies: [],
    people: [],
    tags: []
}

for(var key in categories) {
    default_categories[key] = categories[key].slice(0, 3);
}

%>

<% var data = {
    channel_types: channel_types,
    current_channel: '',
    collapsed: {},
    categories: default_categories,
    admin: false,
    adding_channel_to_category: null,
    logged_in: false,
    expanded: true,
} %>
<% if(query) { %>
    <div class="channels-list">
        <div class='channel'>
            <a class='go-to' data-channel='<%= query %>' href='<%= query %>'>
                <%= common.format_channel(query) %>
            </a>
        </div>
        <%- (typeof t !== 'undefined') ? t.render('partials/channels.html', data) : Template("channels_tmpl", data) %>
        <div class='channel special search-messages'>
            <a data-query='<%= query %>'><span class="icon icon-bubbles2"></span> Search messages for "<%= query %>"</a>
        </div>
    </div>
<% } %>

            </script>
        
            <script type="text/html" id="deep_link_tmpl" class="template">
                <div class="deep_link pop-up-share" id="deep_link">
	<span class="exit">&times;</span>
	share a link to this message
	<br>
    <% if(!link) { %>
        <input id="share-url" type="text" style="display:block; width:100%;" value="<%=base_url %>/<%=channel%>?<%=spiel_id%>">
    <% }else{ %>
        <input id="share-url" type="text" style="display:block; width:100%;" value="<%= link %>">
    <% } %>
</div>

            </script>
        
            <script type="text/html" id="votes_tmpl" class="template">
                <!-- <div class='vote'>
	<span class='vote-count'><%=vote_count%></span>
	<span class='icon-thumbsup'</span>
</div> -->

            </script>
        
            <script type="text/html" id="stock_chart_tmpl" class="template">
                <div class='history-chart-container widget'>

    <div class='padding <%- collapsed ? 'collapsed' : 'fullsize' %>'>

        <div class="data-box">
                <% var data = {
                    symbol: symbol,
                    company: company,
                    url: url,
                    quote: quote || null,
                    collapsed: collapsed,
                } %>
                <%- (typeof t !== 'undefined') ? t.render('partials/stock_chart_data.html', data) : Template("stock_chart_data_tmpl", data) %>
        </div>

    </div>

    <div class="chart noselect">
    </div>

    <% if(!collapsed) { %>
        <div class="chart-buttons">
            <div class="chart-button 1d">1d</div>
            <div class="chart-button 1w">1w</div>
            <div class="chart-button 1m">1m</div>
            <div class="chart-button 3m">3m</div>
            <div class="chart-button chart-button-focussed 1y">1y</div>
            <div class="chart-button chart-button-inactive 3y">3y</div>
        </div>

    <% } %>
</div>

<% if(context.pro) { %>
    <% var allowed = (context.pro && context.allowed_exchanges.indexOf(common.exchange_code_for_symbol(symbol)) != -1 && common.symbol_has_lvl2(symbol)); %>

    <div class="note widget hidden">
        <div class="padding">
            <h3>Market Depth</h3>
            <div class='text'>
                <% var exchanges = {V: 'TSX Venture', TO: 'TSX', CN: 'CSE'}; %>
                Market depth is not enabled for <%= exchanges[common.exchange_code_for_symbol(symbol)] %>.
                <br /><a>Get CEO.CA Pro</a> to gain access.
            </div>
        </div>
    </div>
    <div id="market-depth-chart-table" class="widget <%= (allowed) ? '' : 'hidden'%>">
        <div class="padding">
            <h3 class='hidden'>
                Market Depth
                <div class="chart-table-toggle hidden">
                    <span class="mode current market-depth-chart-toggle">
                        <span class="icon icon-stats-dots"></span> Chart
                    </span>
                    <span class="mode market-depth-table-toggle">
                        <span class="icon icon-th-list"></span> Tables
                    </span>
                </div>
            </h3>
        </div>
        <div class="market-depth-chart noselect">
            <div class="controls">
                <a title='Scroll up' class='scrollup'><span class='icon icon-chevron-up'></span></a>
                <a title='Back to center' class='scrollcenter'><span class='icon'>•</a></a>
                <a title='Scroll down' class='scrolldown'><span class='icon icon-chevron-down'></span></a>
            </div>
            <div class="legend padding <%= (context.pro) ? '' : 'hidden' %>">
                <div class='left'>
                    <div>
                    <span class="box volume"></span> Volume
                    </div>
                </div>
                <div class='right'>
                    <div>
                        <span class="box bid"></span> Bids
                        &nbsp;
                        <span class="box ask"></span> Asks
                    </div>
                    <div>
                        Darker means older
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="market-depth-tables <%= (allowed) ? '' : 'hidden'%>">
        <%- (typeof t !== 'undefined') ? t.render('partials/market_depth_tables.html', data) : Template("market_depth_tables_tmpl", data) %>
    </div>
<% } %>

            </script>
        
            <script type="text/html" id="stock_chart_data_tmpl" class="template">
                    <div class="fullname hidden">
        <%= company ? company : '' %>
        <span class="symbol">
            <%= symbol ? symbol : '' %>
        </span>
    </div>



<!--{# (parseFloat(quote['price_change']) && quote['percent_change'] && quote['percent_change'][0] != '-' && parseFloat(quote['price_change'])[0] == '-' ? '-' : '')+ #}-->
    <% if (quote) {

        if (quote.price_change && quote.price_change[0] == '-' && quote['percent_change'] && quote['percent_change'][0] != '-') {
            var change_object = common.create_change_object('-'+quote['percent_change'])
        } else {
            var change_object = common.create_change_object(quote['percent_change']);
        }

     } %>



    <% if (quote) { %>
        <div class='quote'>
            <%
                var value = parseFloat(quote['last_trade_price'] ? quote['last_trade_price'] : 0)
                var last_trade = value ? value.toFixed(Math.max(2, (value.toString().split('.')[1] || []).length)) : '';
            %>
            <span class="last-value"><%= last_trade %></span>

            <%
                var chvalue = parseFloat(quote['price_change']);
                var change = (chvalue || chvalue === 0) ? chvalue.toFixed(Math.max(2, (chvalue.toString().split('.')[1] || []).length)) : '';
            %>
            <span class='<%= change_object.direction %>'>
                <span class='icon-arrow-<%= change_object.direction == "down" ? "down" : "up"  %>'></span><%= change %>
                <span class='percent'><%= parseFloat(quote['percent_change'].replace(/\+/,'')).toFixed(1) %>%</span>
            </span>
            <div class="last-trade"><%= quote.date %> <%= quote.time %></div>
        </div>
        <div class='details'>
            <table>
                <tr>
                    <th>Volume</th>
                    <td><% if (quote) { %><%= quote && quote.volume ? quote.volume.toLocaleString() : '' %><% } %></td>
                </tr>
                <tr>
                    <th>Mkt Cap</th>
                    <td><% if (quote) { %><%= quote ? quote['market_cap'] : '' %><% } %></td>
                </tr>
                <% if (quote && common.symbol_is_canadian(symbol)) { %>
                    <tr>
                        <th>Shares</th>
                        <td><%= (quote && quote['SharesOutstanding']) ? quote['SharesOutstanding'] : '' %></td>
                    </tr>
                <% } %>
            </table>
        </div>
    <% } %>
    <% if (url) { %>
        <a class="company-url" target="_blank" href="<%- url %>"><%- url %></a>
    <% } %>

            </script>
        
            <script type="text/html" id="stock_search_tmpl" class="template">
                <table class="<%= namespace %> symbol_search_results">
    <% for (var i=0; i < results.length; i++) { %>

        <%
            var symbol = results[i].symbol
            var company = results[i].name

        %>
        <% if(for_ticker) { %>
            <tr>
                <td>$<span><%= symbol %></span></td>
                <td><%= company %></td>
            </tr>
        <% } else { %>
            <tr>
                <td>$<span><%= symbol %></span><span style="display:block"> <%=company %></span></td>
            </tr>
        <% } %>    
    <% } %>
</table>

            </script>
        
            <script type="text/html" id="signup_tmpl" class="template">
                <div id='login-modal' class='modal scroll'>
    <div class="close-button">&times;</div>

    <div class='logo'></div>
    <div id="signup-box">
        <form id="registration" novalidate>
            <h1>Mobile Investment Conference</h1>
            <div class='sub-2'>
                Share knowledge and track stocks in real-time among CEOs and market pros.
            </div>
            <input type="email" name="email" required="true" placeholder="Your email" class="email registration-email" /><button type='submit' id='submit-registration'>Request Invite!</button>

            <div class="agree">
                <label>
                    <input id="terms-checkbox" type="checkbox" name="agree" style="margin-right:10px;" />I agree to the CEO.CA <a href="/@tommy/terms-of-use" target="new">Terms of Use</a> and <a href="/@tommy/privacy-policy" target="new">Privacy Policy</a>
                </label>
            </div>
        </form>
        <div class="actions">
            <div class="action">
                <span class="faint">Already a member?</span>
                <br /><a class="login-now">Log in</a> now.
            </div>
            <div class="action">
                <span class="faint">Want to learn more?</span>
                <br />Visit the <a target="new" href="/@tommy/about">About</a> page.
            </div>
        </div>
    </div>


    <div id="login-box" class="inner" style="display:none;">
        <h1>Log in</h1>
        <form id="login-form">
            <input id="email" class="email" type="email" name="email" required="true" placeholder="email" />
            <input id="password" class="password" type="password" name="password" required="true" placeholder="password" />
            <button type='submit' id='submit-login'>Log in</button><br>

            <a id="forgot_your_password">
                forgot your password?
            </a>
        </form>
    </div>
</div>

            </script>
        
            <script type="text/html" id="map_tmpl" class="template">
                

<div class="cover" id="map-container">
    <div class="modal map">
        <div class="outer">
            <div class="close-button">
                &times;
            </div>
            <div class="header">
            </div>
            <div class="sub-header">
                 Featured Projects
            </div>
            <div id="map" class="inner">
                
            </div>
        </div>
    </div>
</div>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBEqes4jh-hoLhTKEN7OA8RzfK6hQpDdWc&callback=initMap"></script>


            
        
            <script type="text/html" id="map_popup_tmpl" class="template">
                <img src='<%= logo %>' />
<h2>
    <a href='/<%= symbol %>'>$<%= symbol %></a>
    <%= name %>
</h2>
<div class="location"><%= location %></div>
<div class='details'>
    <div><a href='<%= website %>'><%= website %></a></div>
    <% if(ceo) { %>
        <div><label>CEO</label> <%= ceo %></div>
    <% } %>
    <% if(commodities) { %>
        <div><%= commodities %></div>
    <% } %>
</div>

<a class='small' href='http://maps.google.com/?q=<%= latitude %>,<%= longitude %>' target='_blank'>open in Google Maps</a>


            </script>
        
            <script type="text/html" id="invite_users_tmpl" class="template">
                <div id="inviteusersinner">
    <%- (typeof t !== 'undefined') ? t.render('partials/invite_users_inner.html', state) : Template("invite_users_inner_tmpl", state) %>
</div>
            </script>
        
            <script type="text/html" id="invite_users_inner_tmpl" class="template">
                <% if (tab == 'menu') { %>
    <div id="invite-menu">
        <% if (color) { %><span class='color' style='background:<%= color %>'></span><% } %><h3 <% if (!color) { %>class="no-color"<% } %>>[<%= to_handle %>]</h3>
        <ul>
            <% if (dm) { %>
                <li class="private-message">Send a Direct Message<span class="icon icon-chevron-right"></span></li>
            <% } %>
            <li class="private-channel">Invite to Private Channel<span class="icon icon-chevron-right"></span></li>
            <li class="profile">Go to <%= to_handle %>'s Profile<span class="icon icon-chevron-right"></span></li>
        </ul>
        <% if (murat) { %>
            <h3>Chat Menu</h3>
            <ul>
                <li><input></li>
                <li>Share</li>
                <li>Manage</li>
                <li>Moderate</li>
                <li>Admin</li>
            </ul>
        <% } %>
    </div>
<% } else if (tab == 'private'){ %>
<div id="invite-private">
    <div id="back-button"><span class="icon icon-chevron-left"></div>
    <h3>Invite <%= to_handle %> to:</h3>
    <div class="input-container"><span class="icon icon-lock"></span>.<input id="new-private" type="text" placeholder="channel name" /><div id="invite-new-submit"><span class="icon icon-arrow-right-alt1"></span></div></div>
    <h3>Or an existing one:</h3>
    <ul>
        <% for (var i = 0; i < private_channels.length; i++) { %>
            <li class="invite-room" id="<%= private_channels[i] %>"><span class="icon icon-lock"></span><%= private_channels[i] %></li>
        <% } %>
    </ul>
</div>
<% } %>
            </script>
        
            <script type="text/html" id="load_more_tmpl" class="template">
                
<div class="placeholder" style="height: 40px; <%= (response.article) ? 'display: none;' : '' %>">
    <% if(response.spiels.total_spiels == 0 && !request.since && !request.until) { %>
        <div class='load-info'>No one has posted to this room yet</div>
        <a href='#' class='load-more' style='display: none;' id='load-more'><span>see older messages</span></a>
    <% } else if(response.spiels.length < response.total_spiels) { %>
        <a href='#' class='load-more' id='load-more'><span>see older messages</span></a>
    <% } else { %>
        <div class='load-info'>No more messages to load</div>
        <a href='#' class='load-more' style='display: none;' id='load-more'><span>see older messages</span></a>
    <% } %>
</div>

            </script>
        
            <script type="text/html" id="moderator_toolbar_tmpl" class="template">
                
<div id="current-channel">
    <div class="online action leftpad toggle <%= show_online ? 'open' : '' %>" id="num-online">
        <span class="channel <%= channel %>">
            <%

                var item = {
                    type: stock_symbol ? "cash" : "",
                    channel: channel,
                }

                var formatting = common.get_channel_formatting(item);

            %>
            <%- formatting.icon ? formatting.icon : '' %><%= formatting.label %>
        </span>
        <% if(channel != "feed") { %>
            <span class="details">
                <% if(disconnected) { %>
                    connecting
                <% } else { %>
                    <span class="icon icon-users" style="font-size: 10px;"></span>
                    <%= num_online %><%= (channel != '.pros' && common.is_private_channel(channel)) ? '/'+(num_online + num_offline) : '' %> online
                <% } %>
            </span>
        <% } %>
    </div>

    <div class="controls">
        <% if(channel == "feed" || channel == "") { %>
        <% } else { %>
            <% if(admin || common.is_panel(channel) || common.is_private_channel(channel) || role == "owner" || role == "moderator" || role == "public_moderator") { %>
                <span class='action toggle manage <%= manage_open ? 'open' : '' %>' href=''>
                    <span class="icon icon-cog" style="margin-right: 4px;"></span><% if(manage_open) { %><span class="icon icon-chevron-up"></span><% } else { %><span class="icon icon-chevron-down"></span><% } %>
                </span><% } %><span class='action toggle subscribe open-notifications <%= subscribe_open ? 'open' : '' %>' href=''>
                    <% if(subscribe_open) { %>
                        <span class="call-to-action"><span class="icon icon-minus"></span> &nbsp;&nbsp;close&nbsp;&nbsp;</span>
                    <% } else { %>
                        <span class="call-to-action"><span class="icon icon-plus"></span> subscribe</span>
                    <% } %>
            </span>
            <!-- <span class="toggle open-settings"><span class="icon-cog icon"></span></span> -->
        <% } %>
    </div>
</div>

<div class="expanded scroll <%- (manage_open) ? 'show' : '' %>">
    <% if (loading) { %>
        loading...
    <% } else { %>
        <div style='text-align: center;'>
            <%- (admin && !role) || (role === 'public_moderator') ? 'Moderators' : 'Members' %> of
            <% if(common.is_private_channel(channel)) { %><span class="icon-lock"></span><% } else { %><%= (channel[0] != "@") ? "#" : "" %><% } %><%= channel %>
            
            <% if((common.is_private_channel(channel) && !common.is_direct_message_channel(channel) && channel != '.pros') || (common.is_panel(channel) && role != "spectator")) { %>
                <span class="button leave"><span class="icon icon-cross"></span> Leave channel<span>
            <% } %>
        </div>
        <div class="section">
            <h5>Moderators</h5>
            <table>
                <% user_list.filter(function(user) { return (user.role == 'moderator' || user.role == 'owner'); }).forEach(function(user) { %>
                    <tr data-public-id="<%= user.public_id %>">
                        <td>
                            <span class="color" style="background:<%= user.color %>"></span>
                            <span class="name"><%= user.name %></span>
                            <span class="role"><%= user.role %></span>
                        </td>
                        <% if(role === 'owner' && user.role != 'owner') { %>
                            <td>
                                <span class="action make-owner">Make owner</span>
                            </td>
                        <% } %>
                    </tr>
                <% }); %>
            </table>
        </div>
        <div class="section">
            <h5>Members</h5>
            <table>
                <% user_list.filter(function(user) { return user.role == 'member'; }).forEach(function(user) { %>
                    <tr data-public-id="<%= user.public_id %>">
                        <td>
                            <span class="color" style="background:<%= user.color %>"></span>
                            <span class="name"><%= user.name %></span>
                        </td>
                        <% if(role === 'owner' || role === 'moderator'){ %>
                            <td>
                                <span class="action kick">Kick</span>
                            </td>
                        <% } %>
                        <% if(role === 'owner') { %>
                            <td>
                                <span class="action promote">Make moderator</span>
                            </td>
                        <% } %>
                    </tr>
                <% }); %>
            </table>
        </div>
        <% if (role == 'owner' || role == 'moderator'){ %>
            <div class="section">
                <h5>Invite by handle</h5>
                <form class="invite-handle invite-member">
                    <span class="inline-edit-wrapper">
                        @<input class="invite-handle-input" type="text" placeholder="handle" name="handle"/>
                    </span>
                    <button type="submit">invite</button>
                </form>
                <h5>Invite by email</h5>
                <form class="invite-user-email invite-member">
                    <span class="inline-edit-wrapper">
                        <input type="text" name="email" placeholder="email" />
                    </span>
                    <button type="submit">invite</button>
                </form>
            </div>
        <% } %>
        <% if(admin && !common.is_private_channel(channel)) { %>
            <div class="section">
                <h5>Make moderator by handle</h5>
                <form class="invite-handle make-moderator">
                    <span class="inline-edit-wrapper">
                        @<input class="invite-handle-input" type="text" placeholder="handle" name="handle"/>
                    </span>
                    <button type="submit">make moderator</button>
                </form>
                <h5>Make moderator by email</h5>
                <form class="invite-user make-moderator">
                    <span class="inline-edit-wrapper">
                        <input type="text" name="email" placeholder="email" />
                    </span>
                    <button type="submit">make moderator</button>
                </form>
            </div>
        <% } %>
    <% } %>
</div>

            </script>
        
            <script type="text/html" id="sedi_tmpl" class="template">
                <div id="sedi-data-modal" class="modal">
    <div class="outer">

        <div class="header">
            <% if(loading) { %>
                <h2>SEDI reports for <%= channel %></h2>
            <% } else { %>
                <h2>SEDI reports for <%= channel %>, filed on <select>
                    <option value='all'>all</option>
                    <% dates.forEach(function(d) { %>
                        <option <% if(d == date) { %>selected="selected" <% } %> value="<%= d %>"><%= d.slice(6,8) %>/<%= d.slice(4,6) %>/<%= d.slice(0,4) %></option>
                    <% }) %>
                </select></h2>
            <% } %>
        </div>

        <div class="inner scroll">

            <% if(loading) { %>
                loading...
            <% } else { %>
                <% data.forEach(function(datum){ %>
                    <table>
                        <% for (key in datum) {
                            var sedi_value = datum[key]
                        %>

                            <tr>
                                <th><%= key %></th>
                                <% if(sedi_value.match(/^\-/)){ %>
                                    <td style="color:#a00;"><%=sedi_value%></td>
                                <% } else if (sedi_value.match(/^\+/)){ %>
                                    <td style="color:#0a0;"><%= sedi_value%></td>
                                <% } else { %>
                                    <td><%= sedi_value%></td>
                                <% } %>

                            </tr>

                        <% } %>

                    </table>
                <% }) %>
            <% } %>

        </div>

        <div class="close">&times;</div>
    </div>
</div>

            </script>
        
            <script type="text/html" id="article_editor_tmpl" class="template">
                <div class="cover" id="article-editor">
    <div id="article-editor-modal" class="modal">
        <div class="outer article">

            <div class="inner scroll" style="position:absolute;top:0px;bottom:30px;width:100%;height:initial">

                <h1 class="title" contenteditable=true>
                    <% if(loading) { %>
                        Loading...
                    <% } else { %>
                        <%= title %>
                    <% } %>
                </h1>

                <% if(html_editor == true) { %>
                    <textarea style="width: 100%; box-sizing: border-box; height: auto;" class='editable'><% if(loading) { %>loading...<% } else { %><% if (article_html) { %><%- vkbeautify.xml(article_html) %><% } %><% } %></textarea>
                <% } else { %>
                    <div class='editable'>
                        <% if(loading) { %>
                            loading...
                        <% } else { %>
                            <% if (article_html) { %>
                                <%- article_html %>
                            <% } %>
                        <% } %>
                    </div>
                <% } %>

            </div>



            <div class="article-editor-toolbar">
                <div class="slug-input">
                    URL: 
                    <% if (!published) { %>
                        https://ceo.ca/<%= author %>/<input type="text" value='<%- slug || 'title' %>' style="width:300px;"/>
                    <% } else { %>
                        https://ceo.ca/<%= author %>/<%= slug %>
                    <% } %>
                </div>
                <% if (published) { %>
                    <span style="color: #aaa;">Your article has been published to <a href="/articles" target="_blank">#articles</a></span>
                <% } else { %>
                    <% if (user && user.admin && users) { %>
                        <span style="color: #666;">Author:
                            <select class="change-author">
                                <% users.forEach(function(other_user) { %>
                                    <% if(other_user.handle == author) { %>
                                        <option value="<%= other_user.handle %>" selected="selected"><%= other_user.handle %> (Current author)</option>
                                    <% } else { %>
                                        <option value"<%= other_user.handle %>"><%= other_user.handle %></option>
                                    <% } %>
                                <% }); %>
                            </select>
                        </span>
                    <% } else { %>
                        <span style="color: #aaa;">When you Publish your article, it will be posted to <a href="/articles" target="_blank">#articles</a></span>
                    <% } %>
                <% } %>
                <% if(user && user.admin) { %>
                    <br />
                    <form style="color: #666;" class="add-tag" action="">
                        Tags: <input placeholder="Tag name" name="tag" style="width: 80px" /><input type="submit" value="Add" style="width: 40px" />
                        <span class="tag-list">
                            <% tags.forEach(function(tag) { %>
                                <span class="tag"><%= tag %></span>
                            <% }); %>
                        </span>
                    </form>
                    <form style="color: #666;" class="upload-article-thumbnail" style="display:inline-block;">
                        Thumbnail: <input type="file" style="width:200px;"/><input type="submit" style="width:50px" value="upload">&nbsp;<span class="upload-progress"></span>
                    </form>
                <% } %>

                <% if(user && user.admin) { %>
                    <button class='pin-article'>pin/unpin</button>
                <% } %>

                <div class="actions" style="position: absolute; bottom: 5px; right: 15px;">
                    <% if(loading) { %>
                        loading...
                    <% } else { %>
                        <% if (unsaved) { %>
                            <a class="save-article">save</a>
                        <% } else { %>
                            <a class="save-article saved">saved!</a>
                        <% } %>
                        <% if (!published) { %>
                            <a class="publish-article">publish</a>
                        <% } else { %>
                            <!--<a class="unpublish-article">unpublish</a>-->
                        <% } %>
                        <br />
                        <a class="delete-article">delete</a>

                        <a class="preview-article" href="/<%= author %>/<%- slug %>" target="_blank">preview</a>
                    <% } %>
                </div>
            </div>

            <% if(user && user.admin) { %>
                <div class="toggle-html-editor"><%= html_editor ? "Visual editor" : "Edit as HTML" %></div>
            <% } %>
            <div class="close">&times;</div>
        </div>
    </div>
</div>

            </script>
        
            <script type="text/html" id="article_tmpl" class="template">
                <div id="article" class="<%= (article.author == "@newswire" || article.author == "@marketwired") ? 'wire' : '' %>">
    <div class="article-inner">
        <% if(article.deleted_at) { %>
            This article has been deleted.
        <% } else { %>

            <%
                var raw_date = article.published_at ? article.published_at : article.created_at;
                var date = common.format_date(raw_date);
            %>

            <div class="author">
                by <a data-channel="<%- article.author %>" class="hash at" href="/<%- article.author %>"><%- article.author %></a> on <%= date %> 
                <% if (admin || article.author == handle) { %>
                    <a class="article-edit-button edit" data-handle='<%- article.author %>' data-slug='<%- article.slug %>'><span class="icon-pencil"></span> edit</a>
                <% } %>
            </div>
            <div class='title'><%= article.title %></div>
            <div class='actions'>

                <% if(article.author == "@newswire") { %>
                    <a href="http://www.newswire.ca/" target="_blank" title="From CNW Newswire"><img src="/public/assets/logos/newswire.png" style="height: 20px; border: none; margin-right: 10px;" /></a>
                <% } %>
                <% if(article.author == "@marketwired") { %>
                    <a href="http://www.marketwired.com/" target="_blank" title="From Marketwired"><img src="/public/assets/logos/marketwired.png" style="height: 20px; border: none; margin-right: 10px;" /></a>
                <% } %>
                <span style="font-size: 18px;">
                    <%- (typeof t !== 'undefined') ? t.render('partials/article_share_buttons.html', { article: article }) : Template("article_share_buttons_tmpl", { article: article }) %>
                </span>
                <% if(admin) { %>
                    <span class="toggle-featured <%= (article.tags && article.tags.indexOf('featured') != -1) ? 'featured' : '' %>" title='Featured toggle' data-id="<%= article.id %>">
                        <span class="icon-star-full" /></span>
                    </span>
                    <span class="toggle-pinned <%= (article.pinned && article.pinned == '1') ? 'pinned' : '' %>" data-id="<%= article.id %>">
                        <span class="icon-pin"></span>
                    </span>
                <% } %>

            </div>
            <div class="article-body article">
                <%- article.body %>
            </div>

            <div class="article-share-icons share-icons" style="text-align:center;font-size:22px;">
                <%- (typeof t !== 'undefined') ? t.render('partials/article_share_buttons.html', { article: article }) : Template("article_share_buttons_tmpl", { article: article }) %>
            </div>

            <div style="clear:both;"></div>

        <% } %>
    </div>
</div>

            </script>
        
            <script type="text/html" id="my_articles_tmpl" class="template">
                <div>
    <% if (author == null) { %>
        You must <a class="claim-username">claim your username</a> first.
    <% } else { %>
        <% if(loading) { %>
            loading...
        <% } else { %>
            <% if (!articles || articles.length == 0) { %>
                You haven't created any articles yet.<br><br>
            <% } %>
            <div class='open-article new' data-slug="">
                + Create new article
            </div>
             <% if (articles && articles.length > 0) { %>
                <% articles.forEach(function(article) { %>
                    <div class='open-article' data-slug="<%= article.slug %>">
                        <%= article.title %>
                    </div>
                <% }); %>
            <% } %>

        <% } %>
    <% } %>
</div>


            </script>
        
            <script type="text/html" id="edit_profile_tmpl" class="template">
                <div id="edit-profile-modal" class="cover">
    <div class="modal generic">
        <div class="outer">

            <% if(user && user.handle) { %>
                <div class="header">
                    Your public profile
                </div>

                <div class="inner scroll">
                    <p style="font-size: 1.2em;">Success! You now own <a href="/<%= user.handle %>"><%= user.handle %></a>.</p>
                    <p>Here are some features you can use:</p>
                    <ul class="success">
                        <li>Only you are allowed to use the name <strong><%= user.handle %></strong></li>
                        <li><a href="/<%= user.handle %>">Make a public profile</a> to network easily</li>
                        <li>Get notified when your name is mentioned</li>
                        <li>Write articles</li>
                    </ul>
                </div>
            <% } else { %>
                <div class="header">
                    Claim your name
                </div>

                <div class="inner scroll">
                    <p>What handle would you like to reserve for yourself?</p>
                    <form id="claim-name-form">
                        <div class='input'>@<input type="text" placeholder="Enter a handle" name="handle" value="<%= new_handle %>" /></div><button type="submit" <%= loading ? '"disabled"' : '' %>>Claim</button>
                    </form>

                    <% if(loading) { %>
                        <div>
                            Checking name availability...
                        </div>
                    <% } %>
                    <% if(error) { %>
                        <div class="error">
                            <%- error %>
                        </div>
                    <% } %>
                </div>
            <% } %>

            <div class="close">&times;</div>
        </div>
    </div>
</div>


            </script>
        
            <script type="text/html" id="profile_tmpl" class="template">
                <% if(typeof editing == "undefined") var editing = false; %>
<div class="padding <%= (collapsed && !editing) ? 'collapsed' : 'expanded' %>">

    <span class='joined'>
        <% if(profile.bot) { %>
            Bot
        <% } else { %>
            Joined <%= profile.joined ? common.format_date(profile.joined) : "early 2015" %>
        <% } %>
    </span>
    <div class="pic">
        <% if(profile.thumbnail_url) { %>
            <img src="<%= profile.thumbnail_url %>" />
        <% } else { %>
            <img src="/public/assets/profile.png" />
        <% } %>
        <% if(editing) { %>
            <div class='label upload-picture'>Upload</div>
            <input type="file" class="upload" style="display: none;" value="upload">
        <% } %>
    </div>
    <div class='details'>
        <% if(editing) { %>
            <input type="text" name="fullname" value="<%= profile.fullname %>" placeholder="Your full name" />
        <% } else if(profile.fullname) { %>
            <h1><%= profile.fullname %></h1>
        <% } %>
        <% if(editing) { %>
            <textarea name="description" placeholder="Your profile description & public information"><%= profile.description %></textarea>
        <% } else { %>
            <div class="description">
                <% if(profile.description) { %>
                    <%
                        var desc;
                        var truncated;
                        if(profile.description.length > 100) {
                            truncated = true;
                            desc = profile.description.slice(0, 95);
                        } else if(profile.description.split(/\r\n|\r|\n/).length > 3) {
                            desc = profile.description.split("\n").slice(0, 2).join("\n");
                            truncated = true;
                        } else {
                            desc = profile.description;
                            truncated = false;
                        }

                        if(!collapsed) {
                            desc = profile.description;
                        }
                    %>
                    <%- common.linkify('', common.htmlentities(desc)).replace(/(?:\r\n|\r|\n)/g, '<br />') %>
                    <!--
                    <%- truncated && collapsed ? "... &nbsp; <span class='expand'>show more <span class='icon icon-chevron-down'></span></span>" : "" %>
                    <%- truncated && !collapsed ? " &nbsp; <span class='collapse'>show less <span class='icon icon-chevron-up'></span></span>" : "" %>
                    -->
                <% } %>
            </div>
        <% } %>
        
        <% if(profile.editable) { %>
            <% if(typeof editing != "undefined" && editing) { %>
                <span class="action save-profile">Save profile</span>
            <% } else { %>
                <span class="action edit-profile"><span class='icon icon-pencil'></span> Edit profile</span>
            <% } %>
        <% } else { %>
            <span class="action invite-user"><span class='icon icon-bubble'></span> Private message</span>
        <% } %>
        <% if (!profile.editable && context.admin) { %>
            <span class="action mute" handle="<%= profile.handle %>"><span class='icon-auction icon'></span>ban user</span>
        <% } %>
    </div>
</div>
<div class="separator"></div>

            </script>
        
            <script type="text/html" id="article_share_buttons_tmpl" class="template">
                <a class='share-button' href="http://www.facebook.com/sharer.php?u=https://ceo.ca/<%=article.author%>/<%=article.slug%>" target = "_blank"><span class='icon icon-facebook2'></span></a>
<a class='share-button' href="http://twitter.com/share?url=https://ceo.ca/<%=article.author%>/<%=article.slug%>&hashtags=&text=<%= article.title %>%20by%20<%= article.author %>" target="_blank"><span class='icon icon-twitter2'></span></a>
<a class='share-button' href="http://www.linkedin.com/shareArticle?mini=true&url=https://ceo.ca/<%=article.author%>/<%=article.slug%>&summary=<%= article.title %>%20by%20<%= article.author %>&title=CEO.ca <%= article.title %>" target = "_blank"><span class='icon icon-linkedin'></span></a>
<a class='share-button' href="mailto:?Subject=An article from CEO.ca&Body=<%=article.title%>%20by%20<%= article.author %>%0A%0Ahttps://ceo.ca/<%=article.author%>/<%=article.slug%>" target="_blank"><span class='icon icon-mail'></span></a>
<a class='share-button' target="_blank" href="https://ceo.ca/<%=article.author%>/<%=article.slug%>"><span class='icon icon-link'></span></a>

            </script>
        
            <script type="text/html" id="discover_inner_tmpl" class="template">
                <div class="padding">
    <%
        var categories = [
            {key: "featured", title: "featured articles", limit: articles["featured"].length},
            {key: "community", title: "community articles", limit: articles["community"].length},
            {key: "news", title: "news releases", limit: articles["news"].length},
            {key: "user", title: current_channel + "'s articles", limit: articles["user"].length},
        ];
    %>
    <% var print_category = function(category) { %>
        <div class="articles">
            <h3><%= category["title"] %></h3>

            <% var before = 2147483647000; %>
            <% if(articles[category.key]) { %>
                <% articles[category.key].forEach(function(article, i) { %>
                    <%
                        var limit = show_all ? articles[category.key].length : category.limit;
                        if(i >= limit) {
                            return;
                        }

                        if(article.published_at < before) {
                            before = article.published_at;
                        } else {
                            before = article.created_at;
                        }
                    %>
                    <a class="go-to article-link <%= article.last_seen ? 'seen' : 'unseen' %>" data-channel="<%= article.author %>/<%= article.slug %>" href="/<%= article.author %>/<%= article.slug %>" data-type="<%= category.key %>" data-index="<%= i %>">
                        <% var cls = (current_channel.toLowerCase() == (article.author+"/"+article.slug).toLowerCase()) ? 'current' : ''; %>
                        <div class="article <%= cls %>">
                            <div class="thumb">
                                <% if(article.thumbnail) { %>
                                    <img src="<%= article.thumbnail %>" />
                                <% } else { %>
                                    <img src="/public/assets/icon-bnw.png" />
                                <% } %>
                            </div>
                            <div class="details">
                                <span class="date"><%= common.format_date(article.published_at ? article.published_at : article.created_at) %></span>
                                <% if(logged_in == true) { %>
                                    <span class="dot" title="Unread article">●</span>
                                    <% if(article.new_message_count) { %>
                                        <span class="new-count">
                                            <%= article.new_message_count %> new comment<%= article.new_message_count > 1 ? 's' : '' %>
                                        </span>
                                    <% } %>
                                <% } %>
                                <br />
                                <span class="author" data-channel="<%= article.author %>" href="/<%= article.author%>"><%= article.author %></span> <span class="title"><%= article.title %></span>
                                <% var symbols = article.tags ? article.tags.filter(function(t){ return t[0] == "$" }).map(function(t){ return t.substring(1) }) : []; %>
                                <% symbols.forEach(function(symbol) { %>
                                    <span class='hash cash' data-channel="<%= symbol %>">$<%= symbol %></span>
                                <% }); %>
                            </div>
                        </div>
                    </a>
                <% }); %>
            <% } else { %>
                <div class='no-articles'></div>
            <% } %>
        <div class="load-more load-more-featured" data-type="<%= category.key %>" data-before="<%= before %>">show more ▾</div>
        </div>
    <% } %>

    <% if(articles[categories[2].key].length) { %>
        <% print_category(categories[2]); %>
    <% } else if(articles[categories[3].key].length) { %>
        <% print_category(categories[3]); %>
    <% } else { %>
        <% print_category(categories[0]); %>
    <% } %>

    <div class="sponsors articles">
        <%- (typeof t !== 'undefined') ? t.render('partials/discover_sponsors.html', {sponsors: sponsors, show_all: show_all, count: count, show_all_sponsors: show_all_sponsors}) : Template("discover_sponsors_tmpl", {sponsors: sponsors, show_all: show_all, count: count, show_all_sponsors: show_all_sponsors}) %>
    </div>

    <% print_category(categories[1]) %>

    <div class="links">
        <h3>links</h3>
        <div class='link videos'>
            <a class="" href="https://www.youtube.com/user/ceocafilm/videos" target="_blank"><span class='icon icon-youtube'></span>Videos</a>
        </div>
        <div class='link'>
            <a class="go-to" data-channel="@tommy/about" href="/@tommy/about"><span class='icon' style="font-size: 20px;">▲</span>About</a>
        </div>
        <div class='link'>
            <a class="go-to" data-channel="@tommy/ceoca-house-rules" href="/@tommy/ceoca-house-rules"><span class='icon icon-home'></span>House Rules</a>
        </div>
    </div>

    <div class="mobile">
        <h3>downloads</h3>
        <div class="downloads">
            <a href="https://itunes.apple.com/us/app/ceo.ca/id994342021"><img class="appstore" src="/public/assets/appstore.svg" /></a>
            <a href="https://play.google.com/store/apps/details?id=ca.ceo.chat.ceoca&hl=en"><img class="googleplay" src="/public/assets/googleplay.svg" /></a>
        </div>
    </div>

    <div class="legal">
        <h3>legal</h3>
        <div class="text" style="margin-top: 5px;">
            Use of this site indicates acceptance of the
            <a href="/@tommy/privacy-policy" class="hash go-to" data-channel="@tommy/privacy-policy">Privacy Policy</a>
            and
            <a href="/@tommy/terms-of-use" class="hash go-to" data-channel="@tommy/terms-of-use">Terms of Use</a>.
        </div>
        <div class="text">
            <div style="margin-top: 10px;">
                The information on this Website is not reliable and not intended to provide tax, legal, or investment advice. Nothing contained on the Website shall be considered a recommendation, solicitation, or offer to buy or sell a security to any person in any jurisdiction.    
            </div>

            <div style="margin-top: 10px;">CEO.CA members discuss high-risk penny stocks which can lose their entire value. Only risk what you can afford to lose. </div>

            <div style="margin-top: 10px;">© 2016 - Pacific Website Company Inc.</div>
        </div>
    </div>
</div>

            </script>
        
            <script type="text/html" id="discover_sponsors_tmpl" class="template">
                
<h3>sponsors</h3>
<%
    function arrayRotate(arr, n){
        for(var i=0; i<n; i++) arr.push(arr.shift());
        return arr;
    } 
    var list;
    if(show_all != true && show_all_sponsors != true) {
        list = arrayRotate(sponsors.list.slice(0), (count * 3) % sponsors.list.length).slice(0, 3);
    } else {
        list = sponsors.list.slice(0); // clone
    }
%>
<% list.forEach(function(sponsor) { %>
    <a href="<%= sponsor.url %>" target="_blank">
        <div class="article">
            <% if(sponsor.logo) { %>
                <div class="thumb" style="background-image: url(/public/assets/logos/<%= sponsor.logo %>); "></div>
            <% } %>
            <div class="details"><span class="hash cash" data-channel="<%= sponsor.symbol %>">$<%= sponsor.symbol %></span> <span class="title"><%= sponsor.description %></span></div>
        </div>
    </a>
<% }); %>
<% if(show_all != true && show_all_sponsors != true) { %>
    <div style="text-align: center;">
        <div class="show-all-sponsors load-more">show more ▾</div>
    </div>
<% } %>

            </script>
        
            <script type="text/html" id="discover_tmpl" class="template">
                
<div class="inner">
    <%- (typeof t !== 'undefined') ? t.render('partials/discover_inner.html', data) : Template("discover_inner_tmpl", data) %>
</div>

            </script>
        
            <script type="text/html" id="left_sidebar_title_tmpl" class="template">
                
<div class="see-all">
    <% if(context.loading) { %>
    <% } else { %>
        <% if (stock_info) { %>
            <div class="fullname company">
                <%= stock_info.company ? stock_info.company : '' %>
                <span class="symbol">
                    <%= stock_info.symbol ? stock_info.symbol : '' %>
                </span>
            </div>
        <% } else if(common.is_article(current_channel) || current_channel == "") { %>
            <div class="fullname">
                Articles
            </div>
        <% } else { %>
            <div class="fullname">
                <%
                    common.format_channel(current_channel)

                    var item = {
                        type: stock_info && stock_info.symbol ? "cash" : "",
                        channel: current_channel,
                    }

                    var formatting = common.get_channel_formatting(item);
                %>
                <%- formatting.icon ? formatting.icon : '' %><%= formatting.label %>
            </div>
        <% } %>
    <% } %>
</div>

            </script>
        
            <script type="text/html" id="start_channel_tmpl" class="template">
                <% if (status) { %>
	<%- status %><br><br>
<% } %>
    <div>
        <label class="<%= type == "Public" ? 'selected' : '' %>">
            <input type="radio" name="type" value="Public" <%= type == "Public" ? 'checked' : '' %> /> #public
        </label>
        <label class="<%= type == "Panel" ? 'selected' : '' %>">
            <input type="radio" name="type" value="Panel" <%= type == "Panel" ? 'checked' : '' %> /> <span class='icon icon-mic'></span> ~panel
        </label>
        <label class="<%= type == "Private" ? 'selected' : '' %>">
            <input type="radio" name="type" value="Private" <%= type == "Private" ? 'checked' : '' %> /> <span class='icon icon-lock'></span>.private
        </label>
        <div class="description">
            <p>
                <% if(type == "Public") { %>
                    Public channels are visible &amp; open to all members.
                <% } else if(type == "Private") { %>
                    Private channels are only visible to invited members.
                <% } else { %>
                    Panels are visible to all users, however only invited members are allowed to post.
                <% } %>
                <br />
                Name your new channel below.
            </p>
            <form autocomplete="off">

                <div>
                <span class='inline-edit-wrapper typing-new-channel'><span class='prefix'><%- type == "Private" ? "<span class='icon icon-lock'></span>." : type == "Panel" ? "<span class='icon icon-mic'></span>~" : "#" %></span><input class='edit' name="channel" type="text" placeholder="name-a-channel" /></span>
                </div>
                <button type="submit">Go</button>
            </form>
        </div>
    </div>

            </script>
        
            <script type="text/html" id="autocomplete_tmpl" class="template">
                <table class="<%= namespace %> autocomplete-results symbol_search_results">
    <% for (var i=0; i < (data ? data.length : 0); i++) { %>
        <%
            var display_row = data[i].display;
            var submit_row = data[i].submit;
            var type = data[i].type;
            if (typeof display_row != 'object') { display_row = [display_row] }
        %>
        <tr>
	        <% display_row.forEach(function(column){ %>
			        <td>
                        <span class='value' style="display:block" data-type="<%= type %>" data-submit-value="<%= submit_row %>">
                            <%= column %>
                        </span>
                    </td>
	        <% }) %>
	    </tr>
    <% } %>
</table>

            </script>
        
            <script type="text/html" id="mod_tools_ban_tmpl" class="template">
                <%= handle %><% if (admin) { %>/<%= email %><% } %><br><br>

<% if (!giving_penalty && !making_silent) { %>

	<button data-banned='<%- banned_from_channel %>'><% if (!banned_from_channel){%> Ban from <%- channel %><% } else { %>Unban from <%- channel %><% } %></button><br>
	<% if (admin) { %>
		<button data-silenced='<%- silenced %>'>
			<% if (!silenced){%>Silence<% } else { %>Unsilence <%- silenced_time_left > 0 ? '('+silenced_time_left+'min left)' : null %><% } %>
		</button>
		<br>
		<button data-penalized='<%- penalized %>'>
			<% if (!penalized){%>Put in penalty box<% } else { %>End penalty <%- penalized_time_left > 0 ? '('+penalized_time_left+'min left)' : null %><% } %>
		</button>
		<br>
		<button data-totally-banned='<%- totally_banned %>'><% if (!totally_banned){%> Ban from CEO.ca<% } else { %>Unban from CEO.ca<% } %></button><br>
		<button data-article-ban='<%- banned_from_articles %>'><% if (!banned_from_articles){%> Ban from ARTICLES<% } else { %>Unban from ARTICLES<% } %></button><br>
	<% } %>

 <% } else if (giving_penalty || making_silent) { %>
	<form class='<%- giving_penalty ? "penalized-form" : "silenced-form" %>'>
		<% if (giving_penalty) { %>
			<span>How long in minutes? (0 is forever, a day is 1440)<br><br>Channel will default to #penalty-box if none is given.</span>
		<% } else { %>
			<span>How long in minutes? (0 is forever, a day is 1440)</span>
		<% } %><br><br>


		<input required type="text" name="minutes" placeholder="minutes" /><br><br>
		<% if (giving_penalty) { %>
			<input type="text" name="channel" placeholder="channel" /><br><br>
		<% } %>
		<button type="submit"><%- giving_penalty ? 'penalize' : 'silence' %></button>
	</form>
	<span class='back-button' style="position:absolute;top:8px;left:10px;color:white;cursor:pointer;">◀</span>
 <% } %>
            </script>
        
            <script type="text/html" id="market_depth_tables_tmpl" class="template">
                <% 
    if(context.orders) {
        var bids = {};
        var asks = {};

        var bids_arr = [];
        var asks_arr = [];

        var price_bids = {};
        var price_asks = {};
        var price_bids_arr = [];
        var price_asks_arr = [];

        for(id in orders) {
            var order = orders[id];
            var key = order.house + order.price;
            var price = order.price;
            if(order.bid_ask == 'bid') {
                if(bids[key] == undefined) {
                    bids[key] = order;
                    bids[key].total = 0;
                }
                if(price_bids[price] == undefined) {
                    price_bids[price] = {
                        total: 0,
                        value: 0,
                        price: price,
                        bid_ask: 'bid',
                    }
                }
                bids[key].total += parseInt(order.volume);
                price_bids[price].total += parseInt(order.volume);
                price_bids[price].value += parseInt(order.volume * price);
            }
            if(order.bid_ask == 'ask') {
                if(asks[key] == undefined) {
                    asks[key] = order;
                    asks[key].total = 0;
                }
                if(price_asks[price] == undefined) {
                    price_asks[price] = {
                        total: 0,
                        value: 0,
                        price: price,
                        bid_ask: 'ask',
                    }
                }
                asks[key].total += parseInt(order.volume);
                if(asks[key].timestamp < order.timestamp) {
                    asks[key].timestamp = order.timestamp;
                }
                price_asks[price].total += parseInt(order.volume);
                price_asks[price].value += parseInt(order.volume * price);
            }
        }
        for(key in bids) {
            if(key) {
                bids_arr.push(bids[key]);
            }
        }
        for(key in asks) {
            if(key) {
                asks_arr.push(asks[key]);
            }
        }

        bids_arr.sort(function(a, b){
            return (parseFloat(b.price) - parseFloat(a.price));
        });
        asks_arr.sort(function(a, b){
            return (parseFloat(a.price) - parseFloat(b.price));
        });
        bids_arr = bids_arr.splice(0, 10);
        asks_arr = asks_arr.splice(0, 10);

        var orders_sorted = bids_arr.concat(asks_arr);
        orders_sorted = orders_sorted.sort(function(a, b){
            if(a.bid_ask == 'ask' && b.bid_ask == 'bid') {
                return -1;
            } else if(a.bid_ask == 'bid' && b.bid_ask == 'ask') {
                return 1;
            }
            return (parseFloat(b.price) - parseFloat(a.price));
        });



        for(key in price_bids) {
            if(key) {
                price_bids_arr.push(price_bids[key]);
            }
        }
        for(key in price_asks) {
            if(key) {
                price_asks_arr.push(price_asks[key]);
            }
        }
        price_bids_arr.sort(function(a, b){
            return (parseFloat(b.price) - parseFloat(a.price));
        });
        price_asks_arr.sort(function(a, b){
            return (parseFloat(a.price) - parseFloat(b.price));
        });
        price_bids_arr = price_bids_arr.splice(0, 2);
        price_asks_arr = price_asks_arr.splice(0, 2);

        var price_orders_sorted = price_bids_arr.concat(price_asks_arr).sort(function(a, b){
            if(a.bid_ask == 'ask' && b.bid_ask == 'bid') {
                return -1;
            } else if(a.bid_ask == 'bid' && b.bid_ask == 'ask') {
                return 1;
            }
            return (parseFloat(b.price) - parseFloat(a.price));
        });
        price_orders_sorted = price_orders_sorted.sort(function(a, b){
            return (parseFloat(b.price) - parseFloat(a.price));
        });
    }

%>

<div class="note <%= (common.symbol_has_lvl2(symbol)) ? 'hidden' : ''%>">
    Market depth is only available on TSX &amp; TSXV stocks
</div>
<div class='widget'>
    <h3>Market by price</h3>
    <table>
        <% if(context.orders) { %>
            <tr>
                <th key="price">Price</th>
                <th key="total">Total volume</th>
                <th key="value">Value</th>
            </tr>
            <% price_orders_sorted.forEach(function(order) { %>
                <tr class="<%= order.bid_ask %>">
                    <% ['price', 'total', 'value'].forEach(function(key) { %>
                        <% var val = order[key]; %>
                        <% if(key == 'price') { val = common.format_price(val); } %>
                        <% if(key == 'total') { val = common.format_price(val, 0); } %>
                        <% if(key == 'value') { val = "$" + common.format_price(val, 0); } %>
                        <td><%= val %></td>
                    <% }); %>
                </tr>
            <% }); %>
        <% } else { %>
            <tr><td colspan='2'>None</td</tr>
        <% } %>
    </table>
    <h3>Market by order</h3>
    <table>
        <% if(context.orders) { %>
            <tr>
                <% ['price', 'total', 'house', 'timestamp'].forEach(function(key) { %>
                    <% if(key == "timestamp") key = "Time"; %>
                    <% if(key == "total") key = "Volume"; %>
                    <th key="<%= key %>"><%= key %> <% if(key == 'price') { %><span class='icon icon-chevron-down'></span><% } %></th>
                <% }); %>
            </tr>
            <% orders_sorted.forEach(function(order) { %>
                <tr class="<%= order.bid_ask %>">
                    <% ['price', 'total', 'house', 'timestamp'].forEach(function(key) { %>
                        <% var val = order[key]; %>
                        <% if(key == 'price') { val = common.format_price(val); } %>
                        <% if(key == 'total') { val = common.format_price(val, 0); } %>
                        <%
                            if(key == 'timestamp') {
                                var today = new Date(Date.now());
                                var date = new Date(val);
                                var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                                if(today.getMonth() != date.getMonth() || today.getDate() != date.getDate()) {
                                    val = monthNames[date.getMonth()] + " " + date.getDate();
                                } else {
                                    val = common.format_time(val);
                                }
                            }
                        %>
                        <td><%= val %></td>
                    <% }); %>
                </tr>
            <% }); %>
        <% } else { %>
            <tr><td colspan='4'>None</td</tr>
        <% } %>
    </table>
</div>

<div class='widget'>
    <h3>Recent trades</h3>
    <table>
        <% if(context.trades) { %>
            <% 
                var cols = ['Seller', 'Buyer', 'Price', 'Volume', 'Total', 'Time'];
                var keys = ['house', 'buyer', 'price', 'volume', 'total', 'timestamp'];

                // filter out ticks
                var _trades = trades.slice(0).filter(function(t){ return t.house });

                _trades = _trades.sort(function(a, b){
                    return (parseFloat(b.timestamp) - parseFloat(a.timestamp));
                });

                var _trades = _trades.splice(0, 27);
            %>
            <tr>
                <% cols.forEach(function(col, i) { %>
                    <th key="<%= col %>"><%= cols[i] %></th>
                <% }); %>
            </tr>
            <% var max_vol = 0; %>
            <% _trades.forEach(function(trade) {
                if(parseInt(trade.volume) > max_vol) max_vol = parseInt(trade.volume);
            }); %>
            <% _trades.forEach(function(trade) { %>
                <tr class="trade" style="background: rgba(180, 200, 255, <%= 0.1 + 0.4 * parseInt(trade.volume) / max_vol %>);">
                    <% keys.forEach(function(key) { %>
                        <% var val = trade[key]; %>
                        <% if(key == 'price') { val = common.format_price(val); } %>
                        <% if(key == 'timestamp') { val = common.format_time(val); } %>
                        <% if(key == 'total') { val = "$" + common.format_price(trade.price * trade.volume, 0); } %>
                        <% if(key == 'volume') { val = common.format_price(val, 0); } %>
                        <td>
                            <%= val %>
                        </td>
                    <% }); %>
                </tr>
            <% }); %>
        <% } else { %>
            <tr><td colspan='4'>None</td</tr>
        <% } %>
    </table>
</div>

            </script>
        
            <script type="text/html" id="newsedi_tmpl" class="template">
                <div id="newsedi-container">
    <div id="newsedi-top-bar">
        <a id="tab-filings" class="newsedi-tab <%= (context.tab == 'filings') ? 'on' : '' %>">SEDI Filings</a>
        <!-- <a id="tab-subscriptions" class="newsedi-tab <%= (context.tab == 'subscriptions') ? 'on' : '' %>">My Insiders</a> -->
    </div>
    <div id="newsedi-content">
        <%- (typeof t !== 'undefined') ? t.render('partials/newsedi_content.html', context) : Template("newsedi_content_tmpl", {state:context}) %>
    </div>
    <div id="newsedi-detail"></div>
</div>

            </script>
        
            <script type="text/html" id="newsedi_content_tmpl" class="template">
                <% if (state.tab == 'filings') { %>
    <div id="newsedi-filter">
        <div class="filter-box" id="newsedi-filter-insider">
            <div class="label">Filter by Insider</div>
            <div class="newsedi-filter-query-container">
                <input id="newsedi-filter-insider-query" data-filtertype="insider" class="newsedi-filter-query" type='text' placeholder='Insider Name' value='<%= state.filters.insider %>' />
                <span class="newsedi-filter-query-x" data-filtertype="insider">&times;</span>
            </div>
            <div id="newsedi-filter-insider-suggestions" class='newsedi-filter-suggestions'></div>
        </div>
        <div class="filter-box" id="newsedi-filter-company">
            <div class="label">Filter by Company</div>
            <div class="newsedi-filter-query-container">
                <input id="newsedi-filter-company-query" data-filtertype="company" class="newsedi-filter-query" type='text' placeholder='Company Name' value='<%= state.filters.company_symbol %>' />
                <span class="newsedi-filter-query-x" data-filtertype="company">&times;</span>
            </div>
            <div id="newsedi-filter-company-suggestions" class='newsedi-filter-suggestions'></div>
        </div>
    </div>
    <div id="newsedi-inner">
        <%- (typeof t !== 'undefined') ? t.render('partials/newsedi_results.html', {state:state}) : Template("newsedi_results_tmpl", {state:state}) %>
    </div>
<% } else { %>
    <div id="newsedi-insiders">
        <% if (state.user_logged_in) { %> 
            <% if (state.loading) { %>
                <span class="loading">Loading</span>
            <% } else { %>
                <% for (var i = 0, x = state.insiders.length; i < x; i++) { %>
                    <div class="newsedi-insider-item">
                        <span class="newsedi-insider-name"><%=state.insiders[i].insider_name %></span>
                        <span data-name="<%= state.insiders[i].insider_name %>" class="newsedi-unsubscribe"></span>
                    </div>
                <% } %>
            <% } %>
        <% } else { %>
            Sign up to CEO.CA Pro Accounts and get Insider activity in your email.
        <% } %>
    </div>
<% } %>

            </script>
        
            <script type="text/html" id="newsedi_results_tmpl" class="template">
                <% if (state.filters.insider && user_logged_in) { %>
    <% if (state.loading) { %>
    <% } else { %>
    <!-- 
        <div id="newsedi-insider-subscribe">
            <span class="label">Get email updates for <%= state.filters.insider %></span><span class="newsedi-<%= (state.insider_subscribed ? 'un' : '') %>subscribe" data-name="<%= state.filters.insider %>"></span>
        </div>
    -->
    <% } %>
<% } %>
<div id="newsedi-results-container">
    <div id="newsedi-results-table-container">
        <table id="newsedi-results">
            <% if (state.loading) { %>
                <tr class="filing-row">
                    <td class="cell">Loading...</td>
                </tr>
            <% } else if(state.results.length > 0) { %>
                <tr>
                    <% for (var i = 0, header = ['Date','Issuer','Insider','Transaction','Volume','Price', 'Total']; i < header.length; i++) { %>
                        <th col="<%= i %>" class="<%= (i == state.sort_column ? state.filters.column_dir : '') %>"><%= header[i] %></th>
                    <% } %>
                    <th>More</th>
                </tr>
                <% for (var i = 0; i < state.results.length; i++) { %>
                    <tr class="filing-row">
                        <td><%= state.results[i]['datab']['Date of transaction'] %></td>
                        <td>
                            <%= state.results[i]['datab']['Stock Symbol'] %>
                            <%= state.results[i]['datab']['Issuer Name'] %>
                        </td>
                        <td>
                            <strong><%= state.results[i]['datab']['Insider Name'] %></strong>
                            <div class='relationship'>
                                <%= state.results[i]['datab']["Insider's Relationship to Issuer"] %>
                            </div>
                        </td>
                        <td><%= state.results[i]['datab']['Nature of transaction'] %></td>
                        <td>
                            <% var volume = state.results[i]['datab']['Number or value acquired or disposed of'] %>
                            <%- volume[0] == "+" ? "<span class='bought'>" : "" %>
                            <%- volume[0] == "-" ? "<span class='sold'>" : "" %>
                            <%= volume %>
                            <%- volume[0] == "+" ? "</span>" : "" %>
                            <%- volume[0] == "-" ? "</span>" : "" %>
                        </td>
                        <td><%= state.results[i]['datab']['Unit price or exercise price'] %></td>
                        <td><%= state.results[i]['datab']['Balance of securities held as of transaction date'] %></td>
                        <td><span id="filing-<%=i %>" class="newsedi-show-detail">[ + Expand ]</span></td>
                    </tr>
                <% } %>
            <% } else { %>
                <tr class="filing-row">
                    <td class="cell">No results.</td>
                </tr>
            <% } %>
        </table>
    </div>
</div>

            </script>
        
            <script type="text/html" id="newsedi_filing_tmpl" class="template">
                <div id="newsedi-filing">
    <% for (var i = 0; i < Object.keys(state.detail.datab).length; i++){ %>
        <div class="newsedi-filing-row">
            <span class="newsedi-filing-key"><%= Object.keys(state.detail.datab)[i] %></span><br>
            <span class="newsedi-filing-value"><%= state.detail.datab[Object.keys(state.detail.datab)[i]] %></span>
        </div>
    <% } %>
</div>
            </script>
        
            <script type="text/html" id="watchlist_settings_tmpl" class="template">
                
            </script>
        
            <script type="text/html" id="pro_manager_tmpl" class="template">
                <iframe src="https://payments.ceo.ca"></iframe>

            </script>
        

        <script type="text/javascript">

            window.templates = {}
            $('.template').each(function(e) {
                var id = $(this).attr('id');
                var content = $(this).get(0).innerHTML;
                templates[id] = microtemplates(content);
            });
            Template = function(id, data) {
                data.common = common;
                return templates[id](data);
            }

        </script>

        

        <script type="text/javascript">
            window.pro = false;
            window.allowed_exchanges = [];

            window.static_url = '/public/';

            window.ticker_quotes = [];

            window.handle =  null 

            window.networking = null;
            window.ui = null;

            window.since = 1;

            window.user_verified = false

            window.spiel_id = null;

            window.quote = null;

            window.last_spiel_date = 0;
            window.latitude = null;
            window.longitude = null;
            window.gps_accuracy = null;
            window.spiels_per_request = 50;
            window.messages_to_send_on_reconnect = [];
            window.user_logged_in = false;

            window.latest_spiel_id = "";

            window.dragging = false;
            window.mousedown_coordinates = null;
            window.features = {"stock_charts":true};

            

            $(document).ready(function(){

                window.scroll = Scroll();

                if(is_touch_device()) {
                    window.touch_device = true;
                    
                    $('#type-here, #name').focus(function(e){
                        window.scroll.animate_to('bottom');
                    });

                    $('#chat, #post, .left-sidebar').on('touchstart', function(e) {
                        if(window.layout.state.watchlist) {
                            // close sidebar when clicked outside
                            var w = window,
                            d = document,
                            e = d.documentElement,
                            g = d.getElementsByTagName('body')[0],
                            x = w.innerWidth || e.clientWidth || g.clientWidth,
                            y = w.innerHeight|| e.clientHeight|| g.clientHeight;

                            if(x < 600) {
                                window.layout.set_state("discover", false);
                                window.layout.set_state("watchlist", false);
                                window.layout.align_windows();
                            }
                        }
                    });
                } else {
                    $('#type-here').focus();
                    $('body').on('click', function(e){
                        if(e.target.tagName != ":MAMMOTH-MINI-WINDOW:" &&
                          !$(e.target).is('input') &&
                          !$(e.target).is('select') &&
                          !$(e.target).is('textarea') &&
                          !$(e.target).is('#article-editor-modal') &&
                          !($(e.target).parents('#article-editor-modal').length > 0) &&
                          !window.dragging && $(e.target).prop('contenteditable') != "true" &&
                          $(e.target).find(".spiel-content").prop('contenteditable') != "true" ) {
                            setTimeout(function() {
                                $('#type-here').focus();
                            }, 100);
                        }
                        window.dragging = false;
                    });
                    $('body').on('mousedown', function(e){
                        window.dragging = true;
                        window.mousedown_coordinates = { x: e.pageX, y: e.pageY };
                    });
                    $('body').on('mouseup', function(e){
                        if(pixel_distance(e.pageX, e.pageY, window.mousedown_coordinates.x, window.mousedown_coordinates.y) < 10) {
                            window.dragging = false;
                        }
                    });
                }
                if(window.navigator.standalone) {
                    $('#header').css('padding-top', '24px');

                    $('body').on('click', 'a', function(e){

                        var hostname = $(this)[0].hostname
                        if($.inArray(hostname, ['teaorbit.com', 'www.teaorbit.com', 'safinaz.local']) != -1) {
                            e.preventDefault();
                            document.location = $(this).attr('href');
                        }
                    });
                }

                window.first_spiels = [];
                window.stock_info = null;

                window.post = Post({"logged_in":false,"user":null,"user_verified":false,"color":"#83b3dc","channel":"@tommy/privacy-policy","readable":true,"writable":true,"banned":false,"text":"","role":null,"t":{},"common":{"market_map":{"113":"V","127":"TO","130":"CN","V":"113","TO":"127","CN":"130"}},"STATIC_URL":"/public/"});
                window.events = new Events();
                window.ui = new UI('@tommy/privacy-policy', '', '');
                window.ui.init();
                window.layout = Layout();
                window.online_list = OnlineList(0, 0);
                window.nav = Nav({"stock_info":null});

                
                    window.ui.init_web_only_features();
                

                window.sidebar = new Sidebar([{"channel":"index","type":"hash","category":"featured","new_message_count":0},{"channel":"popular","type":"hash","category":"featured","new_message_count":0},{"channel":"featured","type":"hash","category":"featured","new_message_count":0},{"channel":"articles","type":"hash","category":"featured","new_message_count":0},{"channel":"newsroom","type":"hash","category":"featured","new_message_count":0},{"channel":"insiders","type":"hash","category":"featured","new_message_count":0},{"channel":"feedback","type":"hash","category":"featured","new_message_count":0}], false, "@tommy/privacy-policy", false, null);

                window.sidebar.init();

                window.home = Home({"watchlist":[],"featured_channels":[{"channel":"index","category":"featured","type":"hash","new_message_count":0},{"channel":"featured","category":"featured","type":"hash","new_message_count":0},{"channel":"popular","category":"featured","type":"hash","new_message_count":0},{"channel":"newsroom","category":"featured","type":"hash","new_message_count":0},{"channel":"feedback","category":"featured","type":"hash","new_message_count":0},{"channel":"newbies","category":"featured","type":"hash","new_message_count":0},{"channel":"books","category":"featured","type":"hash","new_message_count":0},{"channel":"newsletters","category":"featured","type":"hash","new_message_count":0},{"channel":"promotions","category":"featured","type":"hash","new_message_count":0},{"channel":"brokers","category":"featured","type":"hash","new_message_count":0},{"channel":"platinum","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"mos","symbol":"MOS.CN","type":"company","category":"trending","new_message_count":0,"direction":"down","value":0.33,"change_percentage":"-9.59%"},{"channel":"politics","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"ironore","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"~mining syndicate","symbol":null,"type":"panel","category":"trending","new_message_count":0},{"channel":"solg.l","symbol":"SOLG.L","type":"company","category":"trending","new_message_count":0,"direction":"up","value":40.7,"change_percentage":"+0.49%"},{"channel":"me","symbol":"ME.TO","type":"company","category":"trending","new_message_count":0,"direction":"down","value":0.23,"change_percentage":"-2.13%"},{"channel":"ami","symbol":"AMI.TO","type":"company","category":"trending","new_message_count":0,"direction":"down","value":1.2,"change_percentage":"-3.23%"},{"channel":"trump","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"hotpick","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"bfd","symbol":"BFD.V","type":"company","category":"trending","new_message_count":0,"direction":"up","value":0.13,"change_percentage":"+13.04%"},{"channel":"au","symbol":"AU.V","type":"company","category":"trending","new_message_count":0,"direction":"up","value":1.76,"change_percentage":"+2.33%"},{"channel":"financing","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"marl","symbol":"MARL.V","type":"company","category":"trending","new_message_count":0,"direction":"down","value":1.28,"change_percentage":"-1.54%"},{"channel":"ion","symbol":"ION.V","type":"company","category":"trending","new_message_count":0,"direction":"up","value":0.095,"change_percentage":"+5.556%"},{"channel":"nxe","symbol":"NXE.TO","type":"company","category":"trending","new_message_count":0,"direction":"up","value":3.77,"change_percentage":"+2.45%"},{"channel":"askgold","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"uranium","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"copper","symbol":"HG=F","type":"commodity","category":"trending","new_message_count":0,"direction":"up","value":2.7155,"change_percentage":"+1.7994%"},{"channel":"marijuana","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"clf.us","symbol":null,"type":"regular","category":"trending","new_message_count":0},{"channel":"tgv","symbol":"TGV.V","type":"company","category":"trending","new_message_count":0,"direction":"down","value":0.06,"change_percentage":"-20.00%"},{"channel":"~coreshack","symbol":null,"type":"panel","category":"trending","new_message_count":0},{"channel":"cgp","symbol":"CGP.V","type":"company","category":"trending","new_message_count":0,"direction":"up","value":0.265,"change_percentage":"+26.190%"},{"channel":"gold","category":"commodities","symbol":"GC=F","type":"commodity","new_message_count":0,"direction":"down","value":1227.3,"change_percentage":"-0.77%"},{"channel":"silver","category":"commodities","symbol":"SI=F","type":"commodity","new_message_count":0,"direction":"down","value":17.66,"change_percentage":"-0.83%"},{"channel":"copper","category":"commodities","symbol":"HG=F","type":"commodity","new_message_count":0,"direction":"up","value":2.7155,"change_percentage":"+1.7994%"},{"channel":"oil","category":"commodities","symbol":"CL=F","type":"commodity","new_message_count":0,"direction":"up","value":54.31,"change_percentage":"+1.59%"},{"channel":"gas","category":"commodities","symbol":"NG=F","type":"commodity","new_message_count":0,"direction":"down","value":3.101,"change_percentage":"-3.366%"},{"channel":"nxe","category":"most_watched","symbol":"NXE.TO","type":"cash","new_message_count":0,"direction":"up","value":3.77,"change_percentage":"+2.45%"},{"channel":"nrn","category":"most_watched","symbol":"NRN.V","type":"cash","new_message_count":0,"direction":"up","value":0.06,"change_percentage":"+10.00%"},{"channel":"@pamplonatrader","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"@hra-coffin","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"idm","category":"most_watched","symbol":"IDM.V","type":"cash","new_message_count":0,"direction":"none","value":0.17,"change_percentage":"+0.00%"},{"channel":"mbgtrends","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"ivn","category":"most_watched","symbol":"IVN.TO","type":"cash","new_message_count":0,"direction":"up","value":4.49,"change_percentage":"+1.81%"},{"channel":"cxo","category":"most_watched","symbol":"CXO.V","type":"cash","new_message_count":0,"direction":"down","value":0.34,"change_percentage":"-1.45%"},{"channel":"lix","category":"most_watched","symbol":"LIX.V","type":"cash","new_message_count":0,"direction":"none","value":2.17,"change_percentage":"+0.00%"},{"channel":"hotpick","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"@stateside","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"ooo","category":"most_watched","symbol":"OOO.V","type":"cash","new_message_count":0,"direction":"up","value":0.3,"change_percentage":"+3.45%"},{"channel":"@miningbookguy","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"gqc","category":"most_watched","symbol":"GQC.V","type":"cash","new_message_count":0,"direction":"down","value":0.45,"change_percentage":"-7.22%"},{"channel":"tk","category":"most_watched","symbol":"TK.V","type":"cash","new_message_count":0,"direction":"up","value":0.36,"change_percentage":"+4.35%"},{"channel":"sbb","category":"most_watched","symbol":"SBB.TO","type":"cash","new_message_count":0,"direction":"down","value":1.43,"change_percentage":"-2.05%"},{"channel":"cdb","category":"most_watched","symbol":"CDB.V","type":"cash","new_message_count":0,"direction":"down","value":1.5,"change_percentage":"-1.32%"},{"channel":"@ocotilloredux","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"vtt","category":"most_watched","symbol":"VTT.V","type":"cash","new_message_count":0,"direction":"down","value":0.23,"change_percentage":"-2.13%"},{"channel":"me","category":"most_watched","symbol":"ME.TO","type":"cash","new_message_count":0,"direction":"down","value":0.23,"change_percentage":"-2.13%"},{"channel":"@luctenhave","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"@jameskwantes","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"@teevee","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"@bdminefinder","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"gxu","category":"most_watched","symbol":"GXU.V","type":"cash","new_message_count":0,"direction":"up","value":0.33,"change_percentage":"+3.13%"},{"channel":"efr","category":"most_watched","symbol":"EFR.TO","type":"cash","new_message_count":0,"direction":"up","value":3.11,"change_percentage":"+3.67%"},{"channel":"@tommy","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"ssp","category":"most_watched","symbol":"SSP.V","type":"cash","new_message_count":0,"direction":"down","value":0.49,"change_percentage":"-2.00%"},{"channel":"uranium","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"kg","category":"most_watched","symbol":"KG.V","type":"cash","new_message_count":0,"direction":"down","value":0.205,"change_percentage":"-4.651%"},{"channel":"@goldfinger","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"swa","category":"most_watched","symbol":"SWA.V","type":"cash","new_message_count":0,"direction":"down","value":0.265,"change_percentage":"-5.357%"},{"channel":"pgm","category":"most_watched","symbol":"PGM.V","type":"cash","new_message_count":0,"direction":"up","value":0.58,"change_percentage":"+1.75%"},{"channel":"knt","category":"most_watched","symbol":"KNT.V","type":"cash","new_message_count":0,"direction":"down","value":1.04,"change_percentage":"-3.70%"},{"channel":"ff","category":"most_watched","symbol":"FF.V","type":"cash","new_message_count":0,"direction":"down","value":0.85,"change_percentage":"-4.49%"},{"channel":"~aufrica","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"~zinc","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"@excelsior","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"~mining syndicate","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"@brent_cook","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"@jayfire","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"lithium","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"@dirkdiggler","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"bergdex","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"@criticalinvestor","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"@jkaiser","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"~roughingit","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"stockpickingcontest","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"~royaltiesandstreams","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"@robmcleod","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"@allan","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"drillplays","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"@50yearbeckfan","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"~prospectgenerator","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"newbies","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"@commoditypro","category":"most_watched","symbol":null,"type":"at","new_message_count":0},{"channel":"loadup","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"~coreshack","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"cobalt","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"~oilandgas","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"promotions","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"katusa","category":"most_watched","symbol":null,"type":"hash","new_message_count":0},{"channel":"ptcharts","category":"most_watched","symbol":null,"type":"hash","new_message_count":0}],"top_movers":[]});

                window.moderator = Moderator(0, 0);

                window.file_uploader = new fileUploader();
                window.file_uploader.init()
                window.notifications = new Notifications("@tommy/privacy-policy");
                window.notifications.init(false, user_logged_in)

                window.search = Search();
                window.profile = Profile();
                window.profiles = Profiles();

                window.articles = Articles();
                window.article = Article();

                window.discover = Discover({"current_channel":"@tommy/privacy-policy","articles":{"news":[],"featured":[{"slug":"ceoca-pro-subscriptions-soft-launch","thumbnail":"https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9mq96-Screen%2520Shot%25202017-02-08%2520at%252010-120-80-thumb.50.18%2520AM.png","title":"CEO.CA Pro Subscriptions: Soft Launch","published_at":1486661690509,"created_at":1486554501955,"pinned":null,"author":"@murat","tags":["featured"],"last_seen":null,"new_message_count":null},{"slug":"notice-newsletter-writers-panel-thursday-feb-9-at-1pm-est","thumbnail":"https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9mkrl-Screen%20Shot%202017-02-08%20at%209-120-80-thumb.20.33%20AM.png","title":"NOTICE: Newsletter Writers Panel Thurs Feb 9 at 1PM EST","published_at":1486574737397,"created_at":1486574243696,"pinned":null,"author":"@tommy","tags":["~coreshack","featured"],"last_seen":null,"new_message_count":null},{"slug":"leagold-mining-files-ni-43-101-technical-report-on","thumbnail":"https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9mpth-LMC2-120-80-thumb.jpg","title":"Leagold Mining Files NI 43-101 Technical Report on Los Filos Gold Mine","published_at":1486564389188,"created_at":1486564389188,"pinned":null,"author":"@newswire","tags":["newswire","$LMC-H","featured"],"last_seen":null,"new_message_count":null},{"slug":"2017-set-to-be-robust-year-for-gold-sector-ma","thumbnail":"https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c999e2-Gold_Reserve_lives-120-80-thumb.png","title":"2017 Set To Be Robust Year For Gold Sector M&A","published_at":1486140175285,"created_at":1486140170915,"pinned":null,"author":"@Goldfinger","tags":["featured","$CNL","$SBB","$ICG","$DGC","$NHK","$ASR","$GUY"],"last_seen":null,"new_message_count":null},{"slug":"brent-cook-and-joe-mazumdar-at-the-2017-roundup-coreshack","thumbnail":"https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c96up5-Screen%20Shot%202017-02-02%20at%2010-120-80-thumb.31.47%20AM.png","title":"Finding Mining's Next Takeouts at the Roundup Coreshack With Joe Mazumdar and Brent Cook","published_at":1486060006806,"created_at":1486059376270,"pinned":null,"author":"@tommy","tags":["featured","$SOLG.L","$CDB","$NHK","$NSU","$MARL"],"last_seen":null,"new_message_count":null}],"community":[{"slug":"mymnutraceuticalstoacquire51ofcannabisproducer","thumbnail":"https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9pp4i-artworks-000031512883-bjwf9v-t500x500-120-80-thumb.jpg","title":"MYM Nutraceuticals to acquire 51% of cannabis producer","published_at":1486677142812,"created_at":1486677140840,"pinned":null,"author":"@jerrio78","tags":[],"last_seen":null,"new_message_count":null},{"slug":"the-next-bull-market-move-interview-daniel-major-ceo-of-goviex-uranium","thumbnail":"https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9o3u0-GoviEx-Uranium-logo-2017-01-120-80-thumb.jpg","title":"The Next Bull Market Move Interview - Daniel Major, CEO of Goviex Uranium","published_at":1486622924193,"created_at":1486622819169,"pinned":null,"author":"@bullmarketmove","tags":[],"last_seen":null,"new_message_count":null},{"slug":"quarterly-update-with-brad-farquhar-input-capital-inp-and-the-design-of-streaming-contracts","thumbnail":"https://s3-us-west-2.amazonaws.com/cdn.ceo.ca/1c9mgm9-2017-02-07-BF-Pic1-120-80-thumb.jpg","title":"Quarterly Update with Brad Farquhar, Input Capital $INP, and the Design of Streaming Contracts","published_at":1486577938470,"created_at":1486570278781,"pinned":null,"author":"@Newton","tags":[],"last_seen":null,"new_message_count":null}],"user":[]},"show_all":false,"show_more":false,"show_all_sponsors":false,"count":53,"sponsors":{"list":[{"url":"http://www.royalroadminerals.com/","logo":"ryr.png","name":"Royal Road Minerals","symbol":"RYR","description":"Follow Minefinder Tim Coughlin’s Return to Colombia"},{"url":"http://www.prospergoldcorp.com/s/Home.asp","logo":"pgx.png","name":"Prosper Gold Corp.","symbol":"PGX","description":"A Canadian Gold Explorer With Skin In The Game"},{"url":"http://www.k92mining.com/","logo":"knt.png","name":"K92 Mining Inc.","symbol":"KNT","description":"The gold mine Barrick may regret selling"},{"url":"http://astonbayholdings.com/","logo":"bay.png","name":"Aston Bay Holdings","symbol":"BAY","description":"Exploring High-Grade Copper"},{"url":"http://www.atonresources.com/","logo":"aan.png","name":"Aton Resources Inc.","symbol":"AAN","description":"District-scale potential in gold mining's final frontier"},{"url":"http://www.sandspringresources.com/s/home.asp","logo":"ssp.png","name":"Sandspring Resources","symbol":"SSP","description":"A 4.1 Million Ounce Call Option on Gold"},{"url":"http://www.dollyvardensilver.com/","logo":"dv.png","name":"Dolly Varden Silver","symbol":"DV","description":"A Golden Triangle Trophy in the Sights of Majors"},{"url":"http://www.goviex.com/","logo":"gxu.png","name":"GoviEx Uranium","symbol":"GXU","description":"Africa's Uranium Champion"},{"url":"http://www.idmmining.com/investors/presentations/","logo":"idm.png","name":"IDM Mining","symbol":"IDM","description":"Developing the Red Mountain project in B.C.'s Golden Triangle"},{"url":"http://www.japangold.com/","logo":"jg.png","name":"Japan Gold","symbol":"JG","description":"The First Foreign Exploration Company Focused on Japan"},{"url":"http://www.lithium-x.com/","logo":"lix.png","name":"Lithium X Energy Corp","symbol":"LIX","description":"Charging Our World, Fuelling the Future"}],"version":1},"logged_in":false,"pro":false,"t":{},"common":{"market_map":{"113":"V","127":"TO","130":"CN","V":"113","TO":"127","CN":"130"}},"STATIC_URL":"/public/"});
                window.banmodal = BanModal();

            });

        </script>

        
        
            <script src="/public/js/user.js?v=343"></script>
        

        <script type="text/javascript">
            
                window.latest_spiel_id = $('.row').last().attr('id');
            
            
            $.timeago.settings.allowFuture = false;
            $.timeago.settings.filter = function(date) {
                return (date > common.now() - 1000*60*60*12);
            }
            $(document).find('time').timeago();
        </script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-61253585-1', 'auto');
          ga('send', 'pageview');

        </script>

    

</body></html>